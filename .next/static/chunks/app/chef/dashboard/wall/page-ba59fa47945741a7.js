(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{445:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>$});var r=a(95155),i=a(12115),s=a(90221),n=a(62177),l=a(55594),o=a(30285),d=a(17759),c=a(62523),u=a(88539),m=a(80333),h=a(66695),x=a(87481),p=a(66766),f=a(50172),v=a(66655),g=a(34301),b=a(11133);let j=(0,a(40157).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var y=a(31573),w=a(763),N=a(83662),P=a(88390),k=a(50286),A=a(14437),C=a(15222),D=a(77223),I=a(46102),E=a(26126),M=a(59576),R=a(56104),S=a(35317),F=a(90858),T=a(44861),H=a(83343),z=a(35476),B=a(41120),O=a(85388),U=a(55028);let W=(0,U.default)(()=>Promise.all([a.e(1345),a.e(6546)]).then(a.bind(a,54165)).then(e=>e.Dialog),{loadableGenerated:{webpack:()=>[54165]},ssr:!1,loading:()=>(0,r.jsxs)("div",{className:"p-4 text-center",children:[(0,r.jsx)(f.A,{className:"h-6 w-6 animate-spin inline-block"})," Loading Dialog..."]})}),G=(0,U.default)(()=>Promise.all([a.e(1345),a.e(6546)]).then(a.bind(a,54165)).then(e=>e.DialogContent),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),J=(0,U.default)(()=>Promise.all([a.e(1345),a.e(6546)]).then(a.bind(a,54165)).then(e=>e.DialogHeader),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),Y=(0,U.default)(()=>Promise.all([a.e(1345),a.e(6546)]).then(a.bind(a,54165)).then(e=>e.DialogTitle),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),q=(0,U.default)(()=>Promise.all([a.e(1345),a.e(6546)]).then(a.bind(a,54165)).then(e=>e.DialogFooter),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),L=(0,U.default)(()=>Promise.all([a.e(1345),a.e(6546)]).then(a.bind(a,54165)).then(e=>e.DialogClose),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),V=(0,U.default)(()=>Promise.all([a.e(1345),a.e(6546)]).then(a.bind(a,54165)).then(e=>e.DialogDescription),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),Z=l.Ik({title:l.Yj().min(5,{message:"Event title must be at least 5 characters."}),description:l.Yj().min(20,{message:"Description must be at least 20 characters."}).max(500,{message:"Description cannot exceed 500 characters."}),maxPax:l.au.number().min(1,{message:"Maximum PAX must be at least 1."}),eventDateTime:l.Yj().refine(e=>{try{let t=new Date(e);return(0,T.f)(t)&&t>new Date}catch(e){return!1}},{message:"Please enter a valid future date and time (e.g., YYYY-MM-DDTHH:MM)."}),location:l.Yj().min(3,{message:"Location is required."}),pricePerPerson:l.au.number().min(0,{message:"Price must be a positive number or zero."}),chefsInvolved:l.Yj().optional(),tags:l.Yj().optional(),eventImageFile:l.Nl(File).optional().refine(e=>!e||e.size<=2097152,"Max image size is 2MB.").refine(e=>!e||["image/jpeg","image/png","image/webp"].includes(e.type),"Only JPG, PNG, WEBP files are allowed."),dataAiHint:l.Yj().optional().max(30,"Hint should be brief, max 2 words."),isPublic:l.zM().default(!0)});function $(){let{user:e,userProfile:t,isChefSubscribed:a}=(0,M.A)(),[l,U]=(0,i.useState)([]),[$,_]=(0,i.useState)(!0),[X,K]=(0,i.useState)(!1),[Q,ee]=(0,i.useState)(!1),[et,ea]=(0,i.useState)(null),[er,ei]=(0,i.useState)(null),[es,en]=(0,i.useState)(null),{toast:el}=(0,x.dj)(),eo=(0,n.mN)({resolver:(0,s.u)(Z),defaultValues:{title:"",description:"",maxPax:10,eventDateTime:"",location:"",pricePerPerson:50,chefsInvolved:"",tags:"",eventImageFile:void 0,dataAiHint:"",isPublic:!0}});(0,i.useEffect)(()=>{let t;if(e){_(!0);let a=(0,S.rJ)(R.db,"chefWallEvents"),r=(0,S.P)(a,(0,S._M)("chefId","==",e.uid),(0,S.My)("createdAt","desc"));t=(0,S.aQ)(r,e=>{U(e.docs.map(e=>{let t=e.data(),a=t.eventDateTime;return a instanceof S.Dc?a=a.toDate().toISOString():a&&"number"==typeof a.seconds&&"number"==typeof a.nanoseconds?a=new S.Dc(a.seconds,a.nanoseconds).toDate().toISOString():"string"==typeof a&&(0,T.f)((0,H.H)(a))||(console.warn("Invalid eventDateTime format from Firestore:",a,"for event ID:",e.id),a=new Date().toISOString()),{id:e.id,...t,eventDateTime:a,createdAt:t.createdAt instanceof S.Dc?t.createdAt.toDate():t.createdAt?new Date(t.createdAt):void 0,updatedAt:t.updatedAt instanceof S.Dc?t.updatedAt.toDate():t.updatedAt?new Date(t.updatedAt):void 0}})),_(!1)},e=>{console.error("Error fetching wall events:",e),el({title:"Error",description:"Could not fetch your event posts.",variant:"destructive"}),_(!1)})}else _(!1),U([]);return()=>{t&&t()}},[e,el]);let ed=e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){eo.setValue("eventImageFile",a,{shouldValidate:!0}),ei(a);let e=new FileReader;e.onloadend=()=>{en(e.result)},e.readAsDataURL(a)}else eo.setValue("eventImageFile",void 0),ei(null),en((null==et?void 0:et.imageUrl)||null)},ec=async r=>{let i;if(!e||!t)return void el({title:"Authentication Error",description:"You must be logged in.",variant:"destructive"});if(r.isPublic&&!a&&!t.isAdmin)return void el({title:"Subscription Required",description:"An active subscription is needed to publish events publicly.",variant:"destructive"});K(!0);try{if(i=new Date(r.eventDateTime),!(0,T.f)(i))throw Error("Invalid date format from input.")}catch(e){console.error("Invalid date provided:",r.eventDateTime,e),el({title:"Invalid Date",description:"Please ensure the event date and time are valid.",variant:"destructive"}),K(!1);return}let s=(null==et?void 0:et.imageUrl)||"",n=(null==et?void 0:et.id)||(0,S.H9)((0,S.rJ)(R.db,"chefWallEvents")).id;try{var l,o;if(er){if((null==et?void 0:et.imageUrl)&&et.imageUrl.startsWith("https://firebasestorage.googleapis.com"))try{let e=(0,F.KR)(R.IG,et.imageUrl);await (0,F.XR)(e)}catch(e){"storage/object-not-found"!==e.code&&console.warn("ChefWallPage: Could not delete old event image during update:",e.message)}let t=er.name.split(".").pop()||"jpg",a="users/".concat(e.uid,"/chefWallEvents/").concat(n,"/eventImage.").concat(t),r=(0,F.KR)(R.IG,a);el({title:"Uploading image...",description:"Please wait."});let i=(0,F.bp)(r,er);await new Promise((e,t)=>{i.on("state_changed",null,e=>{console.error("ChefWallPage: Event image upload error:",e),t(e)},async()=>{try{s=await (0,F.qk)(i.snapshot.ref),e()}catch(e){console.error("ChefWallPage: Error getting download URL for event image:",e),t(e)}})})}let a={title:r.title,description:r.description,maxPax:r.maxPax,eventDateTime:i.toISOString(),location:r.location,pricePerPerson:r.pricePerPerson,chefsInvolved:(null==(l=r.chefsInvolved)?void 0:l.split(",").map(e=>e.trim()).filter(e=>e))||[],tags:(null==(o=r.tags)?void 0:o.split(",").map(e=>e.trim()).filter(e=>e))||[],imageUrl:s,dataAiHint:r.dataAiHint,isPublic:r.isPublic,chefId:e.uid,chefName:t.name||e.displayName||"Chef",chefAvatarUrl:t.profilePictureUrl||e.photoURL||void 0,updatedAt:(0,S.O5)()},d={title:a.title,date:S.Dc.fromDate(i),location:a.location,pax:a.maxPax,menuName:"Event: ".concat(a.title),pricePerHead:a.pricePerPerson,notes:a.description,coChefs:a.chefsInvolved,status:"WallEvent",chefId:e.uid,isWallEvent:!0,updatedAt:(0,S.O5)()},c=(0,S.wP)(R.db),u=(0,S.H9)(R.db,"chefWallEvents",n),m=(0,S.H9)(R.db,"users/".concat(e.uid,"/calendarEvents"),n);et?(c.update(u,a),c.set(m,{...d,id:n},{merge:!0}),el({title:"Event Post Updated",description:'"'.concat(a.title,'" has been updated.')})):(a.createdAt=(0,S.O5)(),d.createdAt=(0,S.O5)(),c.set(u,{...a,id:u.id}),c.set(m,{...d,id:n}),el({title:"Event Post Created",description:'"'.concat(a.title,'" has been created.')})),await c.commit(),eo.reset(),ea(null),ee(!1),ei(null),en(null)}catch(e){console.error("Error saving wall event:",e),el({title:"Save Failed",description:"Could not save event post. ".concat(e.message),variant:"destructive"})}finally{K(!1)}},eu=e=>{var t,a;let r;ea(e);try{if(r=(0,H.H)(e.eventDateTime),!(0,T.f)(r))throw Error("Invalid date from data")}catch(t){console.error("Error parsing eventDateTime for editing:",e.eventDateTime,t),r=new Date,el({title:"Date Error",description:"Event has an invalid date, using current date.",variant:"destructive"})}let i=(function(e,t){var a;let r=(0,z.a)(e);if(isNaN(r.getTime()))throw RangeError("Invalid time value");let i="extended",s=(a=void 0,"complete"),n="",l="",o="extended"===i?"-":"";if("time"!==s){let e=(0,B.F)(r.getDate(),2),t=(0,B.F)(r.getMonth()+1,2),a=(0,B.F)(r.getFullYear(),4);n="".concat(a).concat(o).concat(t).concat(o).concat(e)}if("date"!==s){let e=r.getTimezoneOffset();if(0!==e){let t=Math.abs(e),a=(0,B.F)(Math.trunc(t/60),2),r=(0,B.F)(t%60,2);l="".concat(e<0?"+":"-").concat(a,":").concat(r)}else l="Z";let t=(0,B.F)(r.getHours(),2),a=(0,B.F)(r.getMinutes(),2),s=(0,B.F)(r.getSeconds(),2),o=""===n?"":"T",d=[t,a,s].join("extended"===i?":":"");n="".concat(n).concat(o).concat(d).concat(l)}return n})(r).substring(0,16);eo.reset({title:e.title,description:e.description,maxPax:e.maxPax,eventDateTime:i,location:e.location,pricePerPerson:e.pricePerPerson,chefsInvolved:(null==(t=e.chefsInvolved)?void 0:t.join(", "))||"",tags:(null==(a=e.tags)?void 0:a.join(", "))||"",eventImageFile:void 0,dataAiHint:e.dataAiHint||"",isPublic:e.isPublic}),en(e.imageUrl||null),ei(null),ee(!0)},em=async t=>{if(!e)return void el({title:"Error",description:"User not authenticated.",variant:"destructive"});let a=l.find(e=>e.id===t);if(!a)return void el({title:"Error",description:"Event not found.",variant:"destructive"});if(window.confirm('Are you sure you want to delete the event post "'.concat(null==a?void 0:a.title,'"? This will also remove it from your calendar.'))){K(!0);try{let r=(0,S.wP)(R.db),i=(0,S.H9)(R.db,"chefWallEvents",t);r.delete(i);let s=(0,S.H9)(R.db,"users/".concat(e.uid,"/calendarEvents"),t);if(r.delete(s),a.imageUrl&&a.imageUrl.startsWith("https://firebasestorage.googleapis.com"))try{let e=(0,F.KR)(R.IG,a.imageUrl);await (0,F.XR)(e)}catch(e){"storage/object-not-found"!==e.code&&console.warn("ChefWallPage: Could not delete event image from storage during event deletion:",e.message)}await r.commit(),el({title:"Event Post Deleted",description:'"'.concat(null==a?void 0:a.title,'" has been deleted.'),variant:"destructive"})}catch(e){console.error("Error deleting event post:",e),el({title:"Delete Error",description:"Could not delete event post. ".concat(e.message),variant:"destructive"})}finally{K(!1)}}},eh=()=>{let e=new Date,t=new Date(e.getTime()-6e4*e.getTimezoneOffset());t.setHours(t.getHours()+1);let a=t.toISOString().slice(0,16);eo.reset({title:"",description:"",maxPax:10,eventDateTime:a,location:"",pricePerPerson:50,chefsInvolved:"",tags:"",eventImageFile:void 0,dataAiHint:"",isPublic:!0}),ea(null),ei(null),en(null),ee(!0)},ex=(0,i.useCallback)(e=>{if(!e)return"Date TBD";try{let t=(0,H.H)(e);if(!(0,T.f)(t))return"Invalid Date";return(0,O.GP)(t,"MMM d, yyyy 'at' h:mm a")}catch(t){return console.warn("Could not format date for display:",e,t),String(e)}},[]);return $?(0,r.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,r.jsx)(f.A,{className:"h-8 w-8 animate-spin text-primary","data-ai-hint":"loading spinner"})," Loading event posts..."]}):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold flex items-center",children:[(0,r.jsx)(v.A,{className:"mr-3 h-8 w-8 text-primary","data-ai-hint":"layout grid icon"})," The Chef's Wall (Your Events)"]}),(0,r.jsxs)(o.$,{onClick:eh,disabled:X,children:[(0,r.jsx)(g.A,{className:"mr-2 h-5 w-5"})," Post New Event"]})]}),Q&&W&&G&&J&&Y&&q&&L&&(0,r.jsx)(W,{open:Q,onOpenChange:e=>{X&&e||(ee(e),e||(eo.reset(),ea(null),ei(null),en(null)))},children:(0,r.jsxs)(G,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)(J,{children:[(0,r.jsx)(Y,{children:et?"Edit Event Post":"Create New Event Post"}),V&&(0,r.jsx)(V,{children:"Share your upcoming public or private culinary events with the community."})]}),(0,r.jsx)(d.lV,{...eo,children:(0,r.jsxs)("form",{onSubmit:eo.handleSubmit(ec),className:"space-y-6 p-1",children:[(0,r.jsx)(d.zB,{control:eo.control,name:"title",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Event Title"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., Pop-Up Dinner Series",...t})}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"description",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Event Description"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(u.T,{placeholder:"Detailed description of the event experience...",...t,className:"min-h-[100px]"})}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(d.zB,{control:eo.control,name:"maxPax",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Maximum PAX (Guests)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{type:"number",placeholder:"e.g., 25",...t})}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"pricePerPerson",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Price per Person ($)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{type:"number",step:"0.01",placeholder:"e.g., 95.00",...t})}),(0,r.jsx)(d.C5,{})]})}})]}),(0,r.jsx)(d.zB,{control:eo.control,name:"eventDateTime",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Event Date & Time"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{type:"datetime-local",...t})}),(0,r.jsx)(d.Rr,{children:"Be specific. Must be a future date."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"location",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Location"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., My Studio, City Park, Client's Address (TBD)",...t})}),(0,r.jsx)(d.Rr,{children:"Specify address or general location."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"eventImageFile",render:e=>{let{fieldState:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Event Image (Optional)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:ed,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})}),es&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(p.default,{src:es,alt:"Event image preview",width:200,height:150,className:"rounded-md object-cover","data-ai-hint":"event food crowd"})}),(0,r.jsx)(d.Rr,{children:"A captivating image for your event (max 2MB, JPG/PNG/WEBP)."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"dataAiHint",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Image Description Hint (for AI)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., outdoor cooking, fine dining",...t})}),(0,r.jsx)(d.Rr,{children:"One or two keywords to help AI understand image content (max 2 words)."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"chefsInvolved",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Other Chefs Involved (Optional)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., Chef Jane Doe, Chef John Smith",...t})}),(0,r.jsx)(d.Rr,{children:"Comma-separated names. This can include team members or collaborators from your alliance."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"tags",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Tags / Keywords (Optional)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., Fine Dining, Vegan, Wine Pairing, Casual",...t})}),(0,r.jsx)(d.Rr,{children:"Comma-separated tags to help people find your event."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"isPublic",render:e=>{let{field:i}=e;return(0,r.jsxs)(d.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-4 shadow-sm",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(d.lR,{className:"text-base",children:"Event Visibility"}),(0,r.jsxs)(d.Rr,{children:[i.value?"Public: Visible to all customers on the Customer Wall.":"Private: Invite-only or for your records.",!a&&i.value&&!(null==t?void 0:t.isAdmin)&&" Public visibility requires an active subscription.",!a&&!i.value&&!(null==t?void 0:t.isAdmin)&&" Publishing public events requires an active subscription."]})]}),(0,r.jsx)(I.Bc,{children:(0,r.jsxs)(I.m_,{delayDuration:100,children:[(0,r.jsx)(I.k$,{asChild:!0,children:(0,r.jsx)(d.MJ,{children:(0,r.jsx)(m.d,{checked:i.value,onCheckedChange:e=>{if(e&&!a&&!(null==t?void 0:t.isAdmin))return void el({title:"Subscription Required",description:"You need an active subscription to make events public.",variant:"destructive"});i.onChange(e)},disabled:X||i.value&&!a&&!(null==t?void 0:t.isAdmin)})})}),!a&&!(null==t?void 0:t.isAdmin)&&(0,r.jsx)(I.ZI,{children:(0,r.jsxs)("p",{className:"flex items-center",children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Subscription required to make event public."]})})]})})]})}}),(0,r.jsxs)(q,{children:[(0,r.jsx)(L,{asChild:!0,children:(0,r.jsx)(o.$,{type:"button",variant:"outline",disabled:X,children:"Cancel"})}),(0,r.jsx)(o.$,{type:"submit",disabled:X||eo.getValues("isPublic")&&!a&&!(null==t?void 0:t.isAdmin),children:X?(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}):et?"Save Changes":"Create Event Post"})]})]})})]})}),l.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>(0,r.jsxs)(h.Zp,{className:"shadow-lg flex flex-col overflow-hidden",children:[e.imageUrl?(0,r.jsx)(p.default,{src:e.imageUrl,alt:e.title,width:600,height:300,className:"w-full h-48 object-cover","data-ai-hint":e.dataAiHint||"event food",onError:e=>{e.target.src="https://placehold.co/600x300.png?text=Image+Error"}}):(0,r.jsx)("div",{className:"w-full h-48 bg-muted flex items-center justify-center text-muted-foreground",children:(0,r.jsx)(v.A,{className:"h-16 w-16 opacity-50","data-ai-hint":"event placeholder"})}),(0,r.jsxs)(h.aR,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsx)(h.ZB,{className:"text-xl",children:e.title}),(0,r.jsxs)(E.E,{variant:e.isPublic?"default":"secondary",className:"text-xs",children:[e.isPublic?(0,r.jsx)(j,{className:"mr-1 h-3 w-3"}):(0,r.jsx)(y.A,{className:"mr-1 h-3 w-3"}),e.isPublic?"Public":"Private"]})]}),e.chefName&&(0,r.jsxs)(h.BT,{className:"text-xs text-muted-foreground",children:["Posted by: ",e.chefName]})]}),(0,r.jsxs)(h.Wu,{className:"space-y-3 text-sm flex-grow",children:[(0,r.jsx)("p",{className:"line-clamp-3",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(w.A,{className:"mr-2 h-4 w-4 text-primary","data-ai-hint":"calendar clock"})," ",ex(e.eventDateTime)]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(N.A,{className:"mr-2 h-4 w-4 text-primary","data-ai-hint":"map pin location"})," ",e.location]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(P.A,{className:"mr-2 h-4 w-4 text-green-600","data-ai-hint":"dollar sign money"})," $",e.pricePerPerson.toFixed(2),"/person"]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(k.A,{className:"mr-2 h-4 w-4 text-primary","data-ai-hint":"users group"})," Max ",e.maxPax," guests"]}),e.chefsInvolved&&e.chefsInvolved.length>0&&(0,r.jsxs)("div",{className:"flex items-center text-xs",children:[(0,r.jsx)(A.A,{className:"mr-1.5 h-3.5 w-3.5 text-muted-foreground","data-ai-hint":"chef hat"}),(0,r.jsx)("span",{className:"font-medium mr-1",children:"Chefs:"}),e.chefsInvolved.map(e=>(0,r.jsx)(E.E,{variant:"outline",className:"mr-1 text-xs",children:e},e))]}),e.tags&&e.tags.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map(e=>(0,r.jsx)(E.E,{variant:"outline",className:"text-xs",children:e},e))})]}),(0,r.jsx)(h.wL,{className:"p-4 border-t bg-muted/20",children:(0,r.jsxs)("div",{className:"flex space-x-2 w-full",children:[(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>eu(e),className:"flex-1",disabled:X,children:[(0,r.jsx)(C.A,{className:"mr-2 h-4 w-4"})," Edit"]}),(0,r.jsxs)(o.$,{variant:"destructive",size:"sm",onClick:()=>em(e.id),className:"flex-1",disabled:X,children:[(0,r.jsx)(D.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})})]},e.id))}):!$&&(0,r.jsxs)(h.Zp,{className:"text-center py-12 border-dashed",children:[(0,r.jsxs)(h.aR,{children:[(0,r.jsx)(v.A,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3","data-ai-hint":"grid empty"}),(0,r.jsx)(h.ZB,{children:"No Event Posts Yet"})]}),(0,r.jsxs)(h.Wu,{children:[(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:"You haven't posted any events. Share your upcoming culinary experiences!"}),(0,r.jsxs)(o.$,{onClick:eh,children:[(0,r.jsx)(g.A,{className:"mr-2 h-5 w-5"})," Create Your First Event Post"]})]})]})]})}},763:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]])},4884:(e,t,a)=>{"use strict";a.d(t,{bL:()=>w,zi:()=>N});var r=a(12115),i=a(85185),s=a(6101),n=a(46081),l=a(5845),o=a(45503),d=a(11275),c=a(63655),u=a(95155),m="Switch",[h,x]=(0,n.A)(m),[p,f]=h(m),v=r.forwardRef((e,t)=>{let{__scopeSwitch:a,name:n,checked:o,defaultChecked:d,required:m,disabled:h,value:x="on",onCheckedChange:f,form:v,...g}=e,[b,w]=r.useState(null),N=(0,s.s)(t,e=>w(e)),P=r.useRef(!1),k=!b||v||!!b.closest("form"),[A=!1,C]=(0,l.i)({prop:o,defaultProp:d,onChange:f});return(0,u.jsxs)(p,{scope:a,checked:A,disabled:h,children:[(0,u.jsx)(c.sG.button,{type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":y(A),"data-disabled":h?"":void 0,disabled:h,value:x,...g,ref:N,onClick:(0,i.m)(e.onClick,e=>{C(e=>!e),k&&(P.current=e.isPropagationStopped(),P.current||e.stopPropagation())})}),k&&(0,u.jsx)(j,{control:b,bubbles:!P.current,name:n,value:x,checked:A,required:m,disabled:h,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=m;var g="SwitchThumb",b=r.forwardRef((e,t)=>{let{__scopeSwitch:a,...r}=e,i=f(g,a);return(0,u.jsx)(c.sG.span,{"data-state":y(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});b.displayName=g;var j=e=>{let{control:t,checked:a,bubbles:i=!0,...s}=e,n=r.useRef(null),l=(0,o.Z)(a),c=(0,d.X)(t);return r.useEffect(()=>{let e=n.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==a&&t){let r=new Event("click",{bubbles:i});t.call(e,a),e.dispatchEvent(r)}},[l,a,i]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...s,tabIndex:-1,ref:n,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(e){return e?"checked":"unchecked"}var w=v,N=b},11133:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},14437:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},17759:(e,t,a)=>{"use strict";a.d(t,{C5:()=>g,MJ:()=>f,Rr:()=>v,eI:()=>x,lR:()=>p,lV:()=>d,zB:()=>u});var r=a(95155),i=a(12115),s=a(99708),n=a(62177),l=a(59434),o=a(85057);let d=n.Op,c=i.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(n.xI,{...t})})},m=()=>{let e=i.useContext(c),t=i.useContext(h),{getFieldState:a,formState:r}=(0,n.xW)(),s=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...s}},h=i.createContext({}),x=i.forwardRef((e,t)=>{let{className:a,...s}=e,n=i.useId();return(0,r.jsx)(h.Provider,{value:{id:n},children:(0,r.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",a),...s})})});x.displayName="FormItem";let p=i.forwardRef((e,t)=>{let{className:a,...i}=e,{error:s,formItemId:n}=m();return(0,r.jsx)(o.J,{ref:t,className:(0,l.cn)(s&&"text-destructive",a),htmlFor:n,...i})});p.displayName="FormLabel";let f=i.forwardRef((e,t)=>{let{...a}=e,{error:i,formItemId:n,formDescriptionId:l,formMessageId:o}=m();return(0,r.jsx)(s.DX,{ref:t,id:n,"aria-describedby":i?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!i,...a})});f.displayName="FormControl";let v=i.forwardRef((e,t)=>{let{className:a,...i}=e,{formDescriptionId:s}=m();return(0,r.jsx)("p",{ref:t,id:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...i})});v.displayName="FormDescription";let g=i.forwardRef((e,t)=>{var a;let{className:i,children:s,...n}=e,{error:o,formMessageId:d}=m(),c=o?String(null!=(a=null==o?void 0:o.message)?a:""):s;return c?(0,r.jsx)("p",{ref:t,id:d,className:(0,l.cn)("text-sm font-medium text-destructive",i),...n,children:c}):null});g.displayName="FormMessage"},26126:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(95155);a(12115);var i=a(74466),s=a(59434);let n=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...i}=e;return(0,r.jsx)("div",{className:(0,s.cn)(n({variant:a}),t),...i})}},31573:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},45503:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(12115);function i(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},46102:(e,t,a)=>{"use strict";a.d(t,{Bc:()=>l,ZI:()=>c,k$:()=>d,m_:()=>o});var r=a(95155),i=a(12115),s=a(89613),n=a(59434);let l=s.Kq,o=s.bL,d=s.l9,c=i.forwardRef((e,t)=>{let{className:a,sideOffset:i=4,...l}=e;return(0,r.jsx)(s.UC,{ref:t,sideOffset:i,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})});c.displayName=s.UC.displayName},50286:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(95155),i=a(12115),s=a(59434);let n=i.forwardRef((e,t)=>{let{className:a,type:i,...n}=e;return(0,r.jsx)("input",{type:i,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},66655:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},70924:(e,t,a)=>{Promise.resolve().then(a.bind(a,445))},80333:(e,t,a)=>{"use strict";a.d(t,{d:()=>l});var r=a(95155),i=a(12115),s=a(4884),n=a(59434);let l=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.bL,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:t,children:(0,r.jsx)(s.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=s.bL.displayName},83662:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},85057:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(95155),i=a(12115),s=a(40968),n=a(74466),l=a(59434);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.b,{ref:t,className:(0,l.cn)(o(),a),...i})});d.displayName=s.b.displayName},88390:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},88539:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});var r=a(95155),i=a(12115),s=a(59434);let n=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});n.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7446,9352,4453,4602,6766,65,1342,106,5740,5388,9613,45,8226,8441,1684,7358],()=>t(70924)),_N_E=e.O()}]);