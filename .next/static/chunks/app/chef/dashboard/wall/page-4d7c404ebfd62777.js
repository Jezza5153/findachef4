(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{4927:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Z});var r=a(95155),i=a(12115),s=a(90221),n=a(62177),l=a(55594),o=a(30285),d=a(17759),c=a(62523),m=a(88539),u=a(4884),h=a(59434);let f=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(u.bL,{className:(0,h.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:t,children:(0,r.jsx)(u.zi,{className:(0,h.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});f.displayName=u.bL.displayName;var x=a(66695),p=a(87481),v=a(66766),g=a(51154),b=a(14541),j=a(49103),y=a(85339),w=a(34869),P=a(32919),N=a(26661),C=a(4516),D=a(55868),I=a(17580),A=a(50744),E=a(44940),R=a(62525),k=a(46102),M=a(26126),S=a(59576),T=a(56104),W=a(35317),F=a(90858),U=a(44861),H=a(83343),B=a(5227),z=a(85388),O=a(55028);let J=(0,O.default)(()=>Promise.all([a.e(1345),a.e(1308)]).then(a.bind(a,54165)).then(e=>e.Dialog),{loadableGenerated:{webpack:()=>[54165]},ssr:!1,loading:()=>(0,r.jsxs)("div",{className:"p-4 text-center",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 animate-spin inline-block"})," Loading Dialog..."]})}),G=(0,O.default)(()=>Promise.all([a.e(1345),a.e(1308)]).then(a.bind(a,54165)).then(e=>e.DialogContent),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),Y=(0,O.default)(()=>Promise.all([a.e(1345),a.e(1308)]).then(a.bind(a,54165)).then(e=>e.DialogHeader),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),L=(0,O.default)(()=>Promise.all([a.e(1345),a.e(1308)]).then(a.bind(a,54165)).then(e=>e.DialogTitle),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),V=(0,O.default)(()=>Promise.all([a.e(1345),a.e(1308)]).then(a.bind(a,54165)).then(e=>e.DialogFooter),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),$=(0,O.default)(()=>Promise.all([a.e(1345),a.e(1308)]).then(a.bind(a,54165)).then(e=>e.DialogClose),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),_=(0,O.default)(()=>Promise.all([a.e(1345),a.e(1308)]).then(a.bind(a,54165)).then(e=>e.DialogDescription),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),q=l.Ik({title:l.Yj().min(5,{message:"Event title must be at least 5 characters."}),description:l.Yj().min(20,{message:"Description must be at least 20 characters."}).max(500,{message:"Description cannot exceed 500 characters."}),maxPax:l.au.number().min(1,{message:"Maximum PAX must be at least 1."}),eventDateTime:l.Yj().refine(e=>{try{let t=new Date(e);return(0,U.f)(t)&&t>new Date}catch(e){return!1}},{message:"Please enter a valid future date and time (e.g., YYYY-MM-DDTHH:MM)."}),location:l.Yj().min(3,{message:"Location is required."}),pricePerPerson:l.au.number().min(0,{message:"Price must be a positive number or zero."}),chefsInvolved:l.Yj().max().optional(),tags:l.Yj().max().optional(),eventImageFile:l.Nl(File).optional().refine(e=>!e||e.size<=2097152,"Max image size is 2MB.").refine(e=>!e||["image/jpeg","image/png","image/webp"].includes(e.type),"Only JPG, PNG, WEBP files are allowed."),dataAiHint:l.Yj().max(30,"Hint short and concise").optional(),isPublic:l.zM().default(!0)});function Z(){let{user:e,userProfile:t,isChefSubscribed:a,loading:l}=(0,S.A)(),[u,h]=(0,i.useState)([]),[O,Z]=(0,i.useState)(!0),[K,X]=(0,i.useState)(!1),[Q,ee]=(0,i.useState)(!1),[et,ea]=(0,i.useState)(null),[er,ei]=(0,i.useState)(null),[es,en]=(0,i.useState)(null),{toast:el}=(0,p.dj)(),eo=(0,n.mN)({resolver:(0,s.u)(q),defaultValues:{title:"",description:"",maxPax:10,eventDateTime:"",location:"",pricePerPerson:50,chefsInvolved:"",tags:"",eventImageFile:void 0,dataAiHint:"",isPublic:!0}});(0,i.useEffect)(()=>{if(l||!e){l||e||h([]);return}Z(!0);let t=(0,W.rJ)(T.db,"chefWallEvents"),a=(0,W.P)(t,(0,W._M)("chefId","==",e.uid),(0,W.My)("createdAt","desc")),r=(0,W.aQ)(a,e=>{h(e.docs.map(e=>{let t=e.data(),a=t.eventDateTime;return a instanceof W.Dc?a=a.toDate().toISOString():a&&"number"==typeof a.seconds&&"number"==typeof a.nanoseconds?a=new W.Dc(a.seconds,a.nanoseconds).toDate().toISOString():"string"==typeof a&&(0,U.f)((0,H.H)(a))||(console.warn("ChefWallPage: Invalid eventDateTime format from Firestore:",a,"for event ID:",e.id),a=new Date().toISOString()),{id:e.id,...t,eventDateTime:a,createdAt:t.createdAt instanceof W.Dc?t.createdAt.toDate():t.createdAt?new Date(t.createdAt):void 0,updatedAt:t.updatedAt instanceof W.Dc?t.updatedAt.toDate():t.updatedAt?new Date(t.updatedAt):void 0}})),Z(!1)},e=>{console.error("ChefWallPage: Error fetching wall events:",e),el({title:"Error Fetching Events",description:"Could not fetch your event posts. Please try refreshing.",variant:"destructive"})});return()=>{console.log("ChefWallPage: Cleaning up wall events listener."),Z(!1),r&&(console.log("ChefWallPage: Unsubscribing from wall events listener."),r())}},[e,l,el]);let ed=e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){eo.setValue("eventImageFile",a,{shouldValidate:!0}),ei(a);let e=new FileReader;e.onloadend=()=>{en(e.result)},e.readAsDataURL(a)}else eo.setValue("eventImageFile",void 0),ei(null),en((null==et?void 0:et.imageUrl)||null)},ec=async r=>{let i;if(!e||!t){el({title:"Authentication Error",description:"You must be logged in.",variant:"destructive"}),X(!1);return}if(r.isPublic&&!a&&!(null==t?void 0:t.isAdmin)){el({title:"Subscription Required",description:"An active subscription is needed to publish events publicly.",variant:"destructive"}),X(!1);return}X(!0);try{if(i=new Date(r.eventDateTime),!(0,U.f)(i))throw Error("Invalid date format from input.")}catch(e){console.error("ChefWallPage: Invalid date provided:",r.eventDateTime,e),el({title:"Invalid Date",description:"Please ensure the event date and time are valid.",variant:"destructive"}),X(!1);return}let s=(null==et?void 0:et.imageUrl)||"",n=(null==et?void 0:et.id)||(0,W.H9)((0,W.rJ)(T.db,"chefWallEvents")).id;try{var l,o,d;if(er){if((null==et?void 0:et.imageUrl)&&et.imageUrl.startsWith("https://firebasestorage.googleapis.com"))try{let e=(0,F.KR)(T.IG,et.imageUrl);await (0,F.XR)(e)}catch(e){"storage/object-not-found"!==e.code&&console.warn("ChefWallPage: Could not delete old event image during update:",e.message)}let t=(null==(d=er.name.split(".").pop())?void 0:d.toLowerCase())||"jpg",a="users/".concat(e.uid,"/chefWallEvents/").concat(n,"/eventImage.").concat(t),r=(0,F.KR)(T.IG,a);el({title:"Uploading image...",description:"Please wait."});let i=(0,F.bp)(r,er);await new Promise((e,t)=>{i.on("state_changed",null,e=>{console.error("ChefWallPage: Event image upload error:",e),el({title:"Image Upload Failed",description:e.message,variant:"destructive"}),t(e)},async()=>{try{s=await (0,F.qk)(i.snapshot.ref),e()}catch(e){console.error("ChefWallPage: Error getting download URL for event image:",e),el({title:"Image URL Error",description:e.message,variant:"destructive"}),t(e)}})})}let a={title:r.title,description:r.description,maxPax:r.maxPax,eventDateTime:i.toISOString(),location:r.location,pricePerPerson:r.pricePerPerson,chefsInvolved:(null==(l=r.chefsInvolved)?void 0:l.split(",").map(e=>e.trim()).filter(e=>e))||[],tags:(null==(o=r.tags)?void 0:o.split(",").map(e=>e.trim()).filter(e=>e))||[],imageUrl:s,dataAiHint:r.dataAiHint,isPublic:r.isPublic,chefId:e.uid,chefName:t.name||e.displayName||"Chef",chefAvatarUrl:t.profilePictureUrl||e.photoURL||void 0},c={id:n,title:a.title,date:W.Dc.fromDate(i),location:a.location,pax:a.maxPax,menuName:"Event: ".concat(a.title),pricePerHead:a.pricePerPerson,notes:a.description,coChefs:a.chefsInvolved,status:"WallEvent",chefId:e.uid,isWallEvent:!0},m=(0,W.wP)(T.db),u=(0,W.H9)(T.db,"chefWallEvents",n),h=(0,W.H9)(T.db,"users/".concat(e.uid,"/calendarEvents"),n);et?(m.update(u,{...a,updatedAt:(0,W.O5)()}),m.set(h,{...c,updatedAt:(0,W.O5)()},{merge:!0}),el({title:"Event Post Updated",description:'"'.concat(a.title,'" has been updated.')})):(m.set(u,{...a,createdAt:(0,W.O5)(),updatedAt:(0,W.O5)()}),m.set(h,{...c,createdAt:(0,W.O5)(),updatedAt:(0,W.O5)()}),el({title:"Event Post Created",description:'"'.concat(a.title,'" has been created.')})),await m.commit(),eo.reset(),ea(null),ee(!1),ei(null),en(null)}catch(e){console.error("ChefWallPage: Error saving wall event:",e),el({title:"Save Failed",description:"Could not save event post. ".concat(e.message),variant:"destructive"})}finally{X(!1)}},em=e=>{var t,a;let r;ea(e);try{if(r=(0,H.H)(e.eventDateTime),!(0,U.f)(r))throw Error("Invalid date from data")}catch(t){console.error("ChefWallPage: Error parsing eventDateTime for editing:",e.eventDateTime,t),r=new Date,el({title:"Date Error",description:"Event has an invalid date, using current date.",variant:"destructive"})}let i=(0,B.x)(r).substring(0,16);eo.reset({title:e.title,description:e.description,maxPax:e.maxPax,eventDateTime:i,location:e.location,pricePerPerson:e.pricePerPerson,chefsInvolved:(null==(t=e.chefsInvolved)?void 0:t.join(", "))||"",tags:(null==(a=e.tags)?void 0:a.join(", "))||"",eventImageFile:void 0,dataAiHint:e.dataAiHint||"",isPublic:e.isPublic}),en(e.imageUrl||null),ei(null),ee(!0)},eu=async t=>{if(!e)return void el({title:"Error",description:"User not authenticated.",variant:"destructive"});let a=u.find(e=>e.id===t);if(!a)return void el({title:"Error",description:"Event not found.",variant:"destructive"});if(window.confirm('Are you sure you want to delete the event post "'.concat(null==a?void 0:a.title,'"? This will also remove it from your calendar.'))){X(!0);try{let r=(0,W.wP)(T.db),i=(0,W.H9)(T.db,"chefWallEvents",t);r.delete(i);let s=(0,W.H9)(T.db,"users/".concat(e.uid,"/calendarEvents"),t);if(r.delete(s),a.imageUrl&&a.imageUrl.startsWith("https://firebasestorage.googleapis.com"))try{let e=(0,F.KR)(T.IG,a.imageUrl);await (0,F.XR)(e)}catch(e){"storage/object-not-found"!==e.code&&console.warn("ChefWallPage: Could not delete event image from storage during event deletion:",e.message)}await r.commit(),el({title:"Event Post Deleted",description:'"'.concat(null==a?void 0:a.title,'" has been deleted.'),variant:"destructive"})}catch(e){console.error("ChefWallPage: Error deleting event post:",e),el({title:"Delete Error",description:"Could not delete event post: ".concat(e.message),variant:"destructive"})}finally{X(!1)}}},eh=()=>{if(!e)return;let t=new Date,a=new Date(t.getTime()-6e4*t.getTimezoneOffset());a.setHours(a.getHours()+1,0,0,0);let r=a.toISOString().slice(0,16);eo.reset({title:"",description:"",maxPax:10,eventDateTime:r,location:"",pricePerPerson:50,chefsInvolved:"",tags:"",eventImageFile:void 0,dataAiHint:"",isPublic:!0}),ea(null),ei(null),en(null),ee(!0)},ef=(0,i.useCallback)(e=>{if(!e)return"Date TBD";try{let t=(0,H.H)(e);if(!(0,U.f)(t)){let t=new Date(e);if((0,U.f)(t))return(0,z.GP)(t,"MMM d, yyyy 'at' h:mm a");return"Invalid Date"}return(0,z.GP)(t,"MMM d, yyyy 'at' h:mm a")}catch(t){return console.warn("ChefWallPage: Could not format date for display:",e,t),String(e)}},[]);return l||O?(0,r.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,r.jsx)(g.A,{className:"h-8 w-8 animate-spin text-primary","data-ai-hint":"loading spinner"}),(0,r.jsx)("p",{className:"ml-2",children:"Loading your event posts..."})]}):e?(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold flex items-center",children:[(0,r.jsx)(b.A,{className:"mr-3 h-8 w-8 text-primary","data-ai-hint":"layout grid icon"})," The Chef's Wall (Your Events)"]}),(0,r.jsxs)(o.$,{onClick:eh,disabled:K,children:[(0,r.jsx)(j.A,{className:"mr-2 h-5 w-5"})," Post New Event"]})]}),Q&&J&&G&&Y&&L&&V&&$&&(0,r.jsx)(J,{open:Q,onOpenChange:e=>{K&&e||(ee(e),e||(eo.reset(),ea(null),ei(null),en(null)))},children:(0,r.jsxs)(G,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)(Y,{children:[(0,r.jsx)(L,{children:et?"Edit Event Post":"Create New Event Post"}),_&&(0,r.jsx)(_,{children:"Share your upcoming public or private culinary events with the community."})]}),(0,r.jsx)(d.lV,{...eo,children:(0,r.jsxs)("form",{onSubmit:eo.handleSubmit(ec),className:"space-y-6 p-1",children:[(0,r.jsx)(d.zB,{control:eo.control,name:"title",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Event Title"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., Pop-Up Dinner Series",...t,disabled:K})}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"description",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Event Description"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(m.T,{placeholder:"Detailed description of the event experience...",...t,className:"min-h-[100px]",disabled:K})}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(d.zB,{control:eo.control,name:"maxPax",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Maximum PAX (Guests)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{type:"number",placeholder:"e.g., 25",...t,disabled:K})}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"pricePerPerson",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Price per Person ($)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{type:"number",step:"0.01",placeholder:"e.g., 95.00",...t,disabled:K})}),(0,r.jsx)(d.C5,{})]})}})]}),(0,r.jsx)(d.zB,{control:eo.control,name:"eventDateTime",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Event Date & Time"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{type:"datetime-local",...t,disabled:K})}),(0,r.jsx)(d.Rr,{children:"Be specific. Must be a future date."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"location",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Location"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., My Studio, City Park, Client's Address (TBD)",...t,disabled:K})}),(0,r.jsx)(d.Rr,{children:"Specify address or general location."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"eventImageFile",render:e=>{let{fieldState:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Event Image (Optional)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:ed,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20",disabled:K})}),es&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(v.default,{src:es,alt:"Event image preview",width:200,height:150,className:"rounded-md object-cover","data-ai-hint":"event food crowd"})}),(0,r.jsx)(d.Rr,{children:"A captivating image for your event (max 2MB, JPG/PNG/WEBP)."}),t.error&&(0,r.jsx)(d.C5,{children:t.error.message})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"dataAiHint",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Image Description Hint (for AI)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., outdoor cooking, fine dining",...t,disabled:K})}),(0,r.jsx)(d.Rr,{children:"One or two keywords to help AI understand image content (max 2 words)."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"chefsInvolved",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Other Chefs Involved (Optional)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., Chef Jane Doe, Chef John Smith",...t,disabled:K})}),(0,r.jsx)(d.Rr,{children:"Comma-separated names. This can include team members or collaborators from your alliance."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"tags",render:e=>{let{field:t}=e;return(0,r.jsxs)(d.eI,{children:[(0,r.jsx)(d.lR,{children:"Tags / Keywords (Optional)"}),(0,r.jsx)(d.MJ,{children:(0,r.jsx)(c.p,{placeholder:"e.g., Fine Dining, Vegan, Wine Pairing, Casual",...t,disabled:K})}),(0,r.jsx)(d.Rr,{children:"Comma-separated tags to help people find your event."}),(0,r.jsx)(d.C5,{})]})}}),(0,r.jsx)(d.zB,{control:eo.control,name:"isPublic",render:e=>{let{field:i}=e;return(0,r.jsxs)(d.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-4 shadow-sm",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(d.lR,{className:"text-base",children:"Event Visibility"}),(0,r.jsxs)(d.Rr,{children:[i.value?"Public: Visible to all customers on the Customer Wall.":"Private: Invite-only or for your records.",!a&&i.value&&!(null==t?void 0:t.isAdmin)&&" Public visibility requires an active subscription."]})]}),(0,r.jsx)(k.Bc,{children:(0,r.jsxs)(k.m_,{delayDuration:100,children:[(0,r.jsx)(k.k$,{asChild:!0,children:(0,r.jsx)(d.MJ,{children:(0,r.jsx)(f,{checked:i.value,onCheckedChange:e=>{if(e&&!a&&!(null==t?void 0:t.isAdmin))return void el({title:"Subscription Required",description:"You need an active subscription to make events public.",variant:"destructive"});i.onChange(e)},disabled:K||i.value&&!a&&!(null==t?void 0:t.isAdmin)&&!i.value})})}),!a&&!(null==t?void 0:t.isAdmin)&&(0,r.jsx)(k.ZI,{children:(0,r.jsxs)("p",{className:"flex items-center",children:[(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Subscription required to make event public."]})})]})})]})}}),(0,r.jsxs)(V,{children:[(0,r.jsx)($,{asChild:!0,children:(0,r.jsx)(o.$,{type:"button",variant:"outline",disabled:K,children:"Cancel"})}),(0,r.jsx)(o.$,{type:"submit",disabled:K||eo.getValues("isPublic")&&!a&&!(null==t?void 0:t.isAdmin),children:K?(0,r.jsx)(g.A,{className:"mr-2 h-4 w-4 animate-spin"}):et?"Save Changes":"Create Event Post"})]})]})})]})}),u.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>(0,r.jsxs)(x.Zp,{className:"shadow-lg flex flex-col overflow-hidden",children:[e.imageUrl?(0,r.jsx)(v.default,{src:e.imageUrl,alt:e.title,width:600,height:300,className:"w-full h-48 object-cover","data-ai-hint":e.dataAiHint||"event food",onError:e=>{e.target.src="https://placehold.co/600x300.png?text=Image+Error"}}):(0,r.jsx)("div",{className:"w-full h-48 bg-muted flex items-center justify-center text-muted-foreground",children:(0,r.jsx)(b.A,{className:"h-16 w-16 opacity-50","data-ai-hint":"event placeholder"})}),(0,r.jsxs)(x.aR,{className:"pb-2 pt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsx)(x.ZB,{className:"text-xl",children:e.title}),(0,r.jsxs)(M.E,{variant:e.isPublic?"default":"secondary",className:"text-xs",children:[e.isPublic?(0,r.jsx)(w.A,{className:"mr-1 h-3 w-3"}):(0,r.jsx)(P.A,{className:"mr-1 h-3 w-3"}),e.isPublic?"Public":"Private"]})]}),e.chefName&&(0,r.jsxs)(x.BT,{className:"text-xs text-muted-foreground",children:["Posted by: ",e.chefName]})]}),(0,r.jsxs)(x.Wu,{className:"space-y-2 text-sm flex-grow pt-2",children:[(0,r.jsx)("p",{className:"line-clamp-3 text-foreground/80",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(N.A,{className:"mr-2 h-4 w-4 text-primary","data-ai-hint":"calendar clock"})," ",ef(e.eventDateTime)]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(C.A,{className:"mr-2 h-4 w-4 text-primary","data-ai-hint":"map pin location"})," ",e.location]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(D.A,{className:"mr-2 h-4 w-4 text-green-600","data-ai-hint":"dollar sign money"})," $",e.pricePerPerson.toFixed(2),"/person"]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(I.A,{className:"mr-2 h-4 w-4 text-primary","data-ai-hint":"users group"})," Max ",e.maxPax," guests"]}),e.chefsInvolved&&e.chefsInvolved.length>0&&(0,r.jsxs)("div",{className:"flex items-center text-xs",children:[(0,r.jsx)(A.A,{className:"mr-1.5 h-3.5 w-3.5 text-muted-foreground","data-ai-hint":"chef hat"}),(0,r.jsx)("span",{className:"font-medium mr-1",children:"Chefs:"}),e.chefsInvolved.map(e=>(0,r.jsx)(M.E,{variant:"outline",className:"mr-1 text-xs",children:e},e))]}),e.tags&&e.tags.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map(e=>(0,r.jsx)(M.E,{variant:"outline",className:"text-xs",children:e},e))})]}),(0,r.jsx)(x.wL,{className:"p-4 border-t bg-muted/20",children:(0,r.jsxs)("div",{className:"flex space-x-2 w-full",children:[(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>em(e),className:"flex-1",disabled:K,children:[(0,r.jsx)(E.A,{className:"mr-2 h-4 w-4"})," Edit"]}),(0,r.jsxs)(o.$,{variant:"destructive",size:"sm",onClick:()=>eu(e.id),className:"flex-1",disabled:K,children:[(0,r.jsx)(R.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})})]},e.id))}):!O&&(0,r.jsxs)(x.Zp,{className:"text-center py-12 border-dashed",children:[(0,r.jsxs)(x.aR,{children:[(0,r.jsx)(b.A,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3","data-ai-hint":"grid empty"}),(0,r.jsx)(x.ZB,{children:"No Event Posts Yet"})]}),(0,r.jsxs)(x.Wu,{children:[(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:"You haven't posted any events. Share your upcoming culinary experiences!"}),(0,r.jsxs)(o.$,{onClick:eh,children:[(0,r.jsx)(j.A,{className:"mr-2 h-5 w-5"})," Create Your First Event Post"]})]})]})]}):(0,r.jsx)("div",{className:"text-center py-10 text-muted-foreground",children:"Please log in to manage your event posts on The Chef's Wall."})}},17759:(e,t,a)=>{"use strict";a.d(t,{C5:()=>g,MJ:()=>p,Rr:()=>v,eI:()=>f,lR:()=>x,lV:()=>d,zB:()=>m});var r=a(95155),i=a(12115),s=a(99708),n=a(62177),l=a(59434),o=a(85057);let d=n.Op,c=i.createContext({}),m=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(n.xI,{...t})})},u=()=>{let e=i.useContext(c),t=i.useContext(h),{getFieldState:a,formState:r}=(0,n.xW)(),s=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...s}},h=i.createContext({}),f=i.forwardRef((e,t)=>{let{className:a,...s}=e,n=i.useId();return(0,r.jsx)(h.Provider,{value:{id:n},children:(0,r.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",a),...s})})});f.displayName="FormItem";let x=i.forwardRef((e,t)=>{let{className:a,...i}=e,{error:s,formItemId:n}=u();return(0,r.jsx)(o.J,{ref:t,className:(0,l.cn)(s&&"text-destructive",a),htmlFor:n,...i})});x.displayName="FormLabel";let p=i.forwardRef((e,t)=>{let{...a}=e,{error:i,formItemId:n,formDescriptionId:l,formMessageId:o}=u();return(0,r.jsx)(s.DX,{ref:t,id:n,"aria-describedby":i?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!i,...a})});p.displayName="FormControl";let v=i.forwardRef((e,t)=>{let{className:a,...i}=e,{formDescriptionId:s}=u();return(0,r.jsx)("p",{ref:t,id:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...i})});v.displayName="FormDescription";let g=i.forwardRef((e,t)=>{var a;let{className:i,children:s,...n}=e,{error:o,formMessageId:d}=u(),c=o?String(null!=(a=null==o?void 0:o.message)?a:""):s;return c?(0,r.jsx)("p",{ref:t,id:d,className:(0,l.cn)("text-sm font-medium text-destructive",i),...n,children:c}):null});g.displayName="FormMessage"},26126:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(95155);a(12115);var i=a(74466),s=a(59434);let n=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...i}=e;return(0,r.jsx)("div",{className:(0,s.cn)(n({variant:a}),t),...i})}},46102:(e,t,a)=>{"use strict";a.d(t,{Bc:()=>l,ZI:()=>c,k$:()=>d,m_:()=>o});var r=a(95155),i=a(12115),s=a(89613),n=a(59434);let l=s.Kq,o=s.bL,d=s.l9,c=i.forwardRef((e,t)=>{let{className:a,sideOffset:i=4,...l}=e;return(0,r.jsx)(s.UC,{ref:t,sideOffset:i,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})});c.displayName=s.UC.displayName},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(95155),i=a(12115),s=a(59434);let n=i.forwardRef((e,t)=>{let{className:a,type:i,...n}=e;return(0,r.jsx)("input",{type:i,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},70924:(e,t,a)=>{Promise.resolve().then(a.bind(a,4927))},85057:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(95155),i=a(12115),s=a(40968),n=a(74466),l=a(59434);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.b,{ref:t,className:(0,l.cn)(o(),a),...i})});d.displayName=s.b.displayName},88539:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});var r=a(95155),i=a(12115),s=a(59434);let n=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});n.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7446,9352,5100,4602,6766,7322,106,5388,5152,9613,1941,1065,8226,8441,1684,7358],()=>t(70924)),_N_E=e.O()}]);