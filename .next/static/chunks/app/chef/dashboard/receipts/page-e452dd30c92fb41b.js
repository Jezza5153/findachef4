(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3128],{10255:(e,t,r)=>{"use strict";function a(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),r(95155),r(47650),r(85744),r(20589)},14636:(e,t,r)=>{"use strict";r.d(t,{AM:()=>i,Wv:()=>d,hl:()=>o});var a=r(95155),s=r(12115),n=r(20547),l=r(59434);let i=n.bL,d=n.l9,o=s.forwardRef((e,t)=>{let{className:r,align:s="center",sideOffset:i=4,...d}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:t,align:s,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...d})})});o.displayName=n.UC.displayName},15222:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},17759:(e,t,r)=>{"use strict";r.d(t,{C5:()=>j,MJ:()=>x,Rr:()=>g,eI:()=>h,lR:()=>f,lV:()=>o,zB:()=>u});var a=r(95155),s=r(12115),n=r(99708),l=r(62177),i=r(59434),d=r(85057);let o=l.Op,c=s.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(c.Provider,{value:{name:t.name},children:(0,a.jsx)(l.xI,{...t})})},m=()=>{let e=s.useContext(c),t=s.useContext(p),{getFieldState:r,formState:a}=(0,l.xW)(),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},p=s.createContext({}),h=s.forwardRef((e,t)=>{let{className:r,...n}=e,l=s.useId();return(0,a.jsx)(p.Provider,{value:{id:l},children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...n})})});h.displayName="FormItem";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:n,formItemId:l}=m();return(0,a.jsx)(d.J,{ref:t,className:(0,i.cn)(n&&"text-destructive",r),htmlFor:l,...s})});f.displayName="FormLabel";let x=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:l,formDescriptionId:i,formMessageId:d}=m();return(0,a.jsx)(n.DX,{ref:t,id:l,"aria-describedby":s?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!s,...r})});x.displayName="FormControl";let g=s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:n}=m();return(0,a.jsx)("p",{ref:t,id:n,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});g.displayName="FormDescription";let j=s.forwardRef((e,t)=>{var r;let{className:s,children:n,...l}=e,{error:d,formMessageId:o}=m(),c=d?String(null!=(r=null==d?void 0:d.message)?r:""):n;return c?(0,a.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",s),...l,children:c}):null});j.displayName="FormMessage"},17763:(e,t,r)=>{Promise.resolve().then(r.bind(r,45203))},17828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,r(64054).createAsyncLocalStorage)()},25318:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},34301:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},34477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return n},findSourceMapURL:function(){return s.findSourceMapURL}});let a=r(53806),s=r(31818),n=r(34979).createServerReference},36645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let a=r(88229)._(r(67357));function s(e,t){var r;let s={};"function"==typeof e&&(s.loader=e);let n={...s,...t};return(0,a.default)({...n,modules:null==(r=n.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},45203:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ea});var a=r(95155),s=r(12115),n=r(90221),l=r(62177),i=r(55594),d=r(30285),o=r(17759),c=r(62523),u=r(88539),m=r(85127),p=r(66695),h=r(59409),f=r(85511),x=r(14636),g=r(55365),j=r(87481),v=r(59434),y=r(80644),b=r(53941),w=r(83013),N=r(50172),A=r(15300),C=r(34301),R=r(40157);let I=(0,R.A)("MessageCircleQuestion",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),k=(0,R.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var T=r(51920),P=r(25318);let M=(0,R.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var S=r(74601),_=r(88390),F=r(15222),D=r(77223),E=r(50594),O=r(68718),U=r(66766),L=r(34477);let V=(0,L.createServerReference)("40dc12ff6aade17c2b480cff9632b0364b2480bd8f",L.callServer,void 0,L.findSourceMapURL,"receiptParserFlow"),z=(0,L.createServerReference)("40927f8807ec76451e0441317d257c24c9ce49bc73",L.callServer,void 0,L.findSourceMapURL,"getTaxAdvice");var B=r(59576),q=r(56104),G=r(35317),$=r(90858),J=r(55028);let W=(0,J.default)(()=>r.e(8927).then(r.bind(r,54165)).then(e=>e.Dialog),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),H=(0,J.default)(()=>r.e(8927).then(r.bind(r,54165)).then(e=>e.DialogContent),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),Z=(0,J.default)(()=>r.e(8927).then(r.bind(r,54165)).then(e=>e.DialogHeader),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),Y=(0,J.default)(()=>r.e(8927).then(r.bind(r,54165)).then(e=>e.DialogTitle),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),X=(0,J.default)(()=>r.e(8927).then(r.bind(r,54165)).then(e=>e.DialogFooter),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),K=(0,J.default)(()=>r.e(8927).then(r.bind(r,54165)).then(e=>e.DialogClose),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),Q=(0,J.default)(()=>r.e(8927).then(r.bind(r,54165)).then(e=>e.DialogDescription),{loadableGenerated:{webpack:()=>[54165]},ssr:!1}),ee=["Ingredient","Equipment","Tax","BAS","Travel","Other"],et=i.Ik({vendor:i.Yj().min(1,{message:"Vendor name is required."}),date:i.p6({required_error:"Receipt date is required."}),totalAmount:i.au.number().min(.01,{message:"Total amount must be greater than 0."}),assignedToEventId:i.Yj().optional(),assignedToMenuId:i.Yj().optional(),costType:i.k5(ee,{required_error:"Cost type is required."}),notes:i.Yj().optional()}),er=i.Ik({region:i.Yj().min(2,{message:"Region is required (e.g., Australia, California)."}),query:i.Yj().min(10,{message:"Please enter a specific tax question (min 10 characters)."})});function ea(){let{user:e}=(0,B.A)(),[t,r]=(0,s.useState)([]),[i,R]=(0,s.useState)(!0),[L,J]=(0,s.useState)(!1),[ea,es]=(0,s.useState)(!1),[en,el]=(0,s.useState)(null),[ei,ed]=(0,s.useState)(!1),[eo,ec]=(0,s.useState)(null),[eu,em]=(0,s.useState)(null),[ep,eh]=(0,s.useState)(null),[ef,ex]=(0,s.useState)(!1),[eg,ej]=(0,s.useState)(!1),[ev,ey]=(0,s.useState)(!1),[eb,ew]=(0,s.useState)(null),[eN,eA]=(0,s.useState)(!1),eC=(0,s.useRef)(null),eR=(0,s.useRef)(null),eI=(0,s.useRef)(null),[ek,eT]=(0,s.useState)("all"),[eP,eM]=(0,s.useState)(void 0),[eS,e_]=(0,s.useState)(void 0),{toast:eF}=(0,j.dj)(),eD=(0,l.mN)({resolver:(0,n.u)(et),defaultValues:{vendor:"",date:new Date,totalAmount:0,assignedToEventId:"",assignedToMenuId:"",costType:void 0,notes:""}}),eE=(0,l.mN)({resolver:(0,n.u)(er),defaultValues:{region:"",query:""}});(0,s.useEffect)(()=>{if(!e){R(!1),r([]);return}R(!0);let t=(0,G.rJ)(q.db,"users",e.uid,"receipts"),a=(0,G.P)(t,(0,G.My)("date","desc")),s=(0,G.aQ)(a,e=>{r(e.docs.map(e=>{let t=e.data();return{id:e.id,...t,date:t.date.toDate(),createdAt:t.createdAt instanceof G.Dc?t.createdAt.toDate():t.createdAt?new Date(t.createdAt):void 0,updatedAt:t.updatedAt instanceof G.Dc?t.updatedAt.toDate():t.updatedAt?new Date(t.updatedAt):void 0}})),R(!1)},e=>{console.error("Error fetching receipts:",e),eF({title:"Error",description:"Could not fetch your receipts.",variant:"destructive"}),R(!1)});return()=>s()},[e,eF]),(0,s.useEffect)(()=>{let e=null;return ei&&null===eo&&(async()=>{try{e=await navigator.mediaDevices.getUserMedia({video:!0}),ec(!0),eC.current&&(eC.current.srcObject=e)}catch(e){console.error("Error accessing camera:",e),ec(!1),eF({variant:"destructive",title:"Camera Access Denied",description:"Please enable camera permissions in your browser settings."})}})(),()=>{e&&e.getTracks().forEach(e=>e.stop()),eC.current&&(eC.current.srcObject=null)}},[ei,eF,eo]);let eO=(0,s.useMemo)(()=>t.filter(e=>{let t="all"===ek||e.costType===ek,r=(0,y.o)(new Date(e.date)),a=!eP||r>=(0,y.o)(eP),s=!eS||r<=(0,b.D)(eS);return t&&a&&s}),[t,ek,eP,eS]),eU=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;el(e),em((null==e?void 0:e.imageUrl)||null),eh((null==e?void 0:e.fileName)||null),ex(!1),e?eD.reset({vendor:e.vendor,date:e.date?new Date(e.date):new Date,totalAmount:e.totalAmount,assignedToEventId:e.assignedToEventId||"",assignedToMenuId:e.assignedToMenuId||"",costType:e.costType,notes:e.notes||""}):eD.reset({vendor:"",date:new Date,totalAmount:0,assignedToEventId:"",assignedToMenuId:"",costType:void 0,notes:""}),es(!0)},eL=async()=>{if(!eu)return void eF({title:"No Image",description:"Please capture or upload an image first.",variant:"destructive"});ej(!0),eF({title:"AI Processing",description:"Analyzing receipt image..."});try{let e=await V({receiptImageUri:eu});if(e){if(e.vendor&&eD.setValue("vendor",e.vendor),e.date)try{let t=new Date(e.date.replace(/-/g,"/"));isNaN(t.getTime())?(console.warn("AI returned unparsable date format for receipt:",e.date),eF({title:"AI Autofill",description:"Could not parse date from AI. Please set manually.",variant:"default"})):eD.setValue("date",t)}catch(t){console.warn("AI returned invalid date format for receipt:",e.date,t),eF({title:"AI Autofill",description:"Error processing date from AI. Please set manually.",variant:"default"})}void 0!==e.totalAmount&&null!==e.totalAmount&&eD.setValue("totalAmount",e.totalAmount),e.suggestedCostType&&eD.setValue("costType",e.suggestedCostType),eF({title:"AI Autofill Complete",description:"Fields populated. Please review."})}else eF({title:"AI Autofill",description:"Could not extract all information. Please fill manually.",variant:"default"})}catch(e){console.error("Error parsing receipt with AI:",e),eF({title:"AI Error",description:"Failed to process receipt with AI.",variant:"destructive"})}finally{ej(!1)}},eV=e=>{let t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),s=new Uint8Array(a);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);return new Blob([a],{type:r})},ez=async t=>{if(!e)return void eF({title:"Error",description:"You must be logged in.",variant:"destructive"});if(!eu&&!(null==en?void 0:en.imageUrl))return void eF({title:"Image Required",description:"Please capture or upload a receipt image.",variant:"destructive"});J(!0);let r=(null==en?void 0:en.imageUrl)||"",a=ep||(null==en?void 0:en.fileName)||"receipt_".concat(Date.now(),".jpg");try{let s=(null==en?void 0:en.id)||(0,G.H9)((0,G.rJ)(q.db,"temp")).id;if(eu&&(!en||eu!==en.imageUrl)){if((null==en?void 0:en.imageUrl)&&en.imageUrl.startsWith("https://firebasestorage.googleapis.com"))try{let e=(0,$.KR)(q.IG,en.imageUrl);await (0,$.XR)(e).catch(e=>console.warn("Old image not found or could not be deleted for receipt:",e))}catch(e){console.warn("Error deleting old receipt image:",e)}let t=eV(eu),n="users/".concat(e.uid,"/receipts/").concat(s,"/").concat(a.replace(/[^a-zA-Z0-9.]/g,"_")),l=(0,$.KR)(q.IG,n),i=(0,$.bp)(l,t);await new Promise((e,t)=>{i.on("state_changed",e=>{},e=>{console.error("Receipt image upload error:",e),t(e)},async()=>{r=await (0,$.qk)(i.snapshot.ref),e()})})}let n={...t,chefId:e.uid,date:G.Dc.fromDate(t.date),imageUrl:r,fileName:a,updatedAt:(0,G.O5)()},l=(0,G.H9)(q.db,"users",e.uid,"receipts",s);en?(await (0,G.mZ)(l,n),eF({title:"Receipt Updated",description:'Receipt from "'.concat(t.vendor,'" has been updated.')})):(n.createdAt=(0,G.O5)(),await (0,G.BN)(l,{...n,id:l.id}),eF({title:"Receipt Added",description:'Receipt from "'.concat(t.vendor,'" has been added.')})),eD.reset(),el(null),es(!1),em(null),eh(null),eI.current&&(eI.current.value="")}catch(e){console.error("Error saving receipt:",e),eF({title:"Save Failed",description:"Could not save your receipt. Please try again.",variant:"destructive"})}finally{J(!1)}},eB=async r=>{if(!e)return;let a=t.find(e=>e.id===r);if(a&&window.confirm('Are you sure you want to delete the receipt from "'.concat(null==a?void 0:a.vendor,'"?'))){J(!0);try{if(a.imageUrl&&a.imageUrl.startsWith("https://firebasestorage.googleapis.com"))try{let e=(0,$.KR)(q.IG,a.imageUrl);await (0,$.XR)(e)}catch(e){console.warn("Could not delete receipt image from storage:",a.imageUrl,e)}await (0,G.kd)((0,G.H9)(q.db,"users",e.uid,"receipts",r)),eF({title:"Receipt Deleted",description:'Receipt from "'.concat(null==a?void 0:a.vendor,'" removed.'),variant:"destructive"})}catch(e){console.error("Error deleting receipt:",e),eF({title:"Delete Error",description:"Could not delete receipt.",variant:"destructive"})}finally{J(!1)}}},eq=(0,s.useMemo)(()=>eO.reduce((e,t)=>e+t.totalAmount,0),[eO]),eG=(0,s.useMemo)(()=>{let e={};return ee.forEach(t=>e[t]=0),eO.forEach(t=>{void 0!==e[t.costType]?e[t.costType]+=t.totalAmount:e[t.costType]=t.totalAmount}),e},[eO]),e$=async e=>{eA(!0),ew(null),eF({title:"Getting Tax Advice",description:"Please wait..."});try{let t=await z(e);ew(t)}catch(e){console.error("Error getting tax advice:",e),eF({title:"AI Error",description:"Failed to get tax advice.",variant:"destructive"}),ew({advice:"Could not retrieve advice at this time.",disclaimer:"Please try again later."})}finally{eA(!1)}};return i&&!e?(0,a.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,a.jsx)(N.A,{className:"h-8 w-8 animate-spin text-primary","data-ai-hint":"loading spinner"}),(0,a.jsx)("p",{className:"ml-2",children:"Loading page..."})]}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center",children:[(0,a.jsx)(A.A,{className:"mr-3 h-8 w-8 text-primary","data-ai-hint":"document file"})," Receipts & Cost Management"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(d.$,{onClick:()=>eU(),disabled:L||eg,children:[(0,a.jsx)(C.A,{className:"mr-2 h-5 w-5"})," Add New Receipt"]}),(0,a.jsxs)(d.$,{variant:"outline",onClick:()=>{eE.reset(),ew(null),ey(!0)},children:[(0,a.jsx)(I,{className:"mr-2 h-5 w-5"})," Get Tax Advice"]})]})]}),(0,a.jsxs)(p.Zp,{children:[(0,a.jsx)(p.aR,{children:(0,a.jsxs)(p.ZB,{className:"flex items-center",children:[(0,a.jsx)(k,{className:"mr-2 h-5 w-5 text-primary"})," Filter Receipts"]})}),(0,a.jsxs)(p.Wu,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Cost Type"}),(0,a.jsxs)(h.l6,{value:ek,onValueChange:eT,children:[(0,a.jsx)(h.bq,{children:(0,a.jsx)(h.yv,{placeholder:"All Cost Types"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"all",children:"All Cost Types"}),ee.map(e=>(0,a.jsx)(h.eb,{value:e,children:e},e))]})]})]}),(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Start Date"}),(0,a.jsxs)(x.AM,{children:[(0,a.jsx)(x.Wv,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"outline",className:(0,v.cn)("w-full justify-start text-left font-normal",!eP&&"text-muted-foreground"),children:[(0,a.jsx)(T.A,{className:"mr-2 h-4 w-4"}),eP?(0,w.GP)(eP,"PPP"):(0,a.jsx)("span",{children:"Pick a start date"})]})}),(0,a.jsx)(x.hl,{className:"w-auto p-0",children:(0,a.jsx)(f.V,{mode:"single",selected:eP,onSelect:eM,initialFocus:!0})})]})]}),(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"End Date"}),(0,a.jsxs)(x.AM,{children:[(0,a.jsx)(x.Wv,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"outline",className:(0,v.cn)("w-full justify-start text-left font-normal",!eS&&"text-muted-foreground"),children:[(0,a.jsx)(T.A,{className:"mr-2 h-4 w-4"}),eS?(0,w.GP)(eS,"PPP"):(0,a.jsx)("span",{children:"Pick an end date"})]})}),(0,a.jsx)(x.hl,{className:"w-auto p-0",children:(0,a.jsx)(f.V,{mode:"single",selected:eS,onSelect:e_,initialFocus:!0,disabled:{before:eP}})})]})]}),(0,a.jsxs)(d.$,{onClick:()=>{eT("all"),eM(void 0),e_(void 0)},variant:"outline",className:"self-end",children:[(0,a.jsx)(P.A,{className:"mr-2 h-4 w-4"})," Clear Filters"]})]})]}),(0,a.jsx)(W,{open:ea,onOpenChange:e=>{(L||eg)&&e||(es(e),!e&&(em(null),eh(null),ex(!1),eI.current&&(eI.current.value="")))},children:(0,a.jsxs)(H,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(Z,{children:[(0,a.jsx)(Y,{children:en?"Edit Receipt":"Add New Receipt"}),Q&&(0,a.jsx)(Q,{children:"Fill in the details for your expense. Use camera or upload a file."})]}),(0,a.jsx)(o.lV,{...eD,children:(0,a.jsxs)("form",{onSubmit:eD.handleSubmit(ez),className:"space-y-4 p-1",children:[(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Receipt Image"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[(0,a.jsxs)(d.$,{type:"button",variant:"outline",onClick:()=>ed(!0),className:"w-full sm:w-auto",children:[(0,a.jsx)(M,{className:"mr-2 h-4 w-4"})," Capture with Camera"]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground hidden sm:block",children:"OR"}),(0,a.jsx)(c.p,{id:"receipt-upload-input",type:"file",accept:"image/png, image/jpeg, image/webp, application/pdf",className:"w-full sm:flex-1",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){eh(r.name);let e=new FileReader;e.onloadend=()=>{em(e.result)},e.readAsDataURL(r)}else eh(null),em(null)},ref:eI})]}),eu&&(0,a.jsxs)("div",{className:"mt-2 text-center",children:[(0,a.jsx)(U.default,{src:eu,alt:"Receipt preview",width:150,height:200,className:"rounded-md object-contain mx-auto border","data-ai-hint":"receipt document"}),ep&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Preview of: ",ep]})]}),(0,a.jsx)(o.Rr,{children:"Max 5MB. PDF, JPG, PNG, WEBP."}),(0,a.jsxs)(d.$,{type:"button",onClick:eL,disabled:!eu||eg||L,variant:"outline",className:"w-full mt-2",children:[eg?(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(S.A,{className:"mr-2 h-4 w-4"}),eg?"Parsing...":"Auto-fill with AI (from image)"]})]}),(0,a.jsx)(o.zB,{control:eD.control,name:"vendor",render:e=>{let{field:t}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Vendor Name"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"e.g., Fresh Produce Market",...t})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(o.zB,{control:eD.control,name:"date",render:e=>{let{field:t}=e;return(0,a.jsxs)(o.eI,{className:"flex flex-col",children:[(0,a.jsx)(o.lR,{children:"Date of Receipt"}),(0,a.jsxs)(x.AM,{children:[(0,a.jsx)(x.Wv,{asChild:!0,children:(0,a.jsx)(o.MJ,{children:(0,a.jsxs)(d.$,{variant:"outline",className:(0,v.cn)("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?(0,w.GP)(t.value,"PPP"):(0,a.jsx)("span",{children:"Pick a date"}),(0,a.jsx)(T.A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,a.jsx)(x.hl,{className:"w-auto p-0",align:"start",children:(0,a.jsx)(f.V,{mode:"single",selected:t.value,onSelect:t.onChange,initialFocus:!0})})]}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:eD.control,name:"totalAmount",render:e=>{let{field:t}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Total Amount ($)"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{type:"number",step:"0.01",placeholder:"e.g., 45.99",...t})}),(0,a.jsx)(o.C5,{})]})}})]}),(0,a.jsx)(o.zB,{control:eD.control,name:"costType",render:e=>{let{field:t}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Cost Type"}),(0,a.jsxs)(h.l6,{onValueChange:t.onChange,value:t.value,defaultValue:t.value,children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(h.bq,{children:(0,a.jsx)(h.yv,{placeholder:"Select a cost type"})})}),(0,a.jsx)(h.gC,{children:ee.map(e=>(0,a.jsx)(h.eb,{value:e,children:e},e))})]}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(o.zB,{control:eD.control,name:"assignedToEventId",render:e=>{let{field:t}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Assign to Event ID (Optional)"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"e.g., event123",...t})}),(0,a.jsx)(o.Rr,{children:"Link this expense to a specific event."}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:eD.control,name:"assignedToMenuId",render:e=>{let{field:t}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Assign to Menu ID (Optional)"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"e.g., menu456",...t})}),(0,a.jsx)(o.Rr,{children:"Link this expense to a specific menu."}),(0,a.jsx)(o.C5,{})]})}})]}),(0,a.jsx)(o.zB,{control:eD.control,name:"notes",render:e=>{let{field:t}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Notes (Optional)"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(u.T,{placeholder:"e.g., Specific items, reason for expense",...t})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsxs)(X,{children:[(0,a.jsx)(K,{asChild:!0,children:(0,a.jsx)(d.$,{type:"button",variant:"outline",disabled:L||eg,children:"Cancel"})}),(0,a.jsx)(d.$,{type:"submit",disabled:L||eg,children:L?(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4 animate-spin"}):en?"Save Changes":"Add Receipt"})]})]})})]})}),(0,a.jsx)(W,{open:ei,onOpenChange:e=>{var t;!e&&(null==(t=eC.current)?void 0:t.srcObject)&&(eC.current.srcObject.getTracks().forEach(e=>e.stop()),eC.current.srcObject=null,ec(null)),ed(e)},children:(0,a.jsxs)(H,{className:"sm:max-w-md",children:[(0,a.jsx)(Z,{children:(0,a.jsx)(Y,{children:"Capture Receipt with Camera"})}),!1===eo&&(0,a.jsxs)(g.Fc,{variant:"destructive",children:[(0,a.jsx)(g.XL,{children:"Camera Access Required"}),(0,a.jsx)(g.TN,{children:"Please allow camera access in your browser settings to use this feature. You might need to refresh the page after granting permission."})]}),(0,a.jsx)("video",{ref:eC,className:(0,v.cn)("w-full aspect-video rounded-md bg-muted",{hidden:ef}),autoPlay:!0,playsInline:!0,muted:!0}),(0,a.jsx)("canvas",{ref:eR,className:"hidden"}),ef&&eu&&(0,a.jsx)(U.default,{src:eu,alt:"Captured receipt",width:400,height:300,className:"rounded-md object-contain mx-auto border","data-ai-hint":"receipt scan"}),(0,a.jsx)(X,{className:"sm:justify-between",children:ef?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>{ex(!1),em(null),eh(null)},children:"Retake"}),(0,a.jsx)(d.$,{type:"button",onClick:()=>{ed(!1)},children:"Use This Image"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K,{asChild:!0,children:(0,a.jsx)(d.$,{type:"button",variant:"outline",children:"Cancel"})}),(0,a.jsx)(d.$,{type:"button",onClick:()=>{if(eC.current&&eR.current){let e=eC.current,t=eR.current;t.width=e.videoWidth,t.height=e.videoHeight;let r=t.getContext("2d");r&&(r.drawImage(e,0,0,t.width,t.height),em(t.toDataURL("image/jpeg")),eh("cam_capture_".concat(Date.now(),".jpg")),ex(!0))}},disabled:!0!==eo,children:"Capture Photo"})]})})]})}),(0,a.jsx)(W,{open:ev,onOpenChange:ey,children:(0,a.jsxs)(H,{className:"sm:max-w-lg",children:[(0,a.jsxs)(Z,{children:[(0,a.jsx)(Y,{children:"AI Tax Advice Assistant"}),Q&&(0,a.jsx)(Q,{children:"Ask a tax-related question based on your region. This is not professional advice."})]}),(0,a.jsx)(o.lV,{...eE,children:(0,a.jsxs)("form",{onSubmit:eE.handleSubmit(e$),className:"space-y-4",children:[(0,a.jsx)(o.zB,{control:eE.control,name:"region",render:e=>{let{field:t}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Your Country/Region"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"e.g., Australia, California, UK",...t})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:eE.control,name:"query",render:e=>{let{field:t}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Your Tax Question"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(u.T,{placeholder:"e.g., What are common tax deductions for private chefs?",...t})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsxs)(d.$,{type:"submit",disabled:eN,className:"w-full",children:[eN?(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(I,{className:"mr-2 h-4 w-4"}),eN?"Getting Advice...":"Ask AI"]})]})}),eb&&(0,a.jsxs)("div",{className:"mt-6 space-y-3 rounded-md border bg-muted/50 p-4",children:[(0,a.jsx)("h4",{className:"font-semibold",children:"AI Response:"}),(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:eb.advice}),(0,a.jsx)("p",{className:"text-xs italic text-muted-foreground",children:eb.disclaimer})]}),(0,a.jsx)(X,{className:"mt-4",children:(0,a.jsx)(K,{asChild:!0,children:(0,a.jsx)(d.$,{type:"button",variant:"outline",children:"Close"})})})]})}),(0,a.jsxs)(p.Zp,{children:[(0,a.jsx)(p.aR,{children:(0,a.jsx)(p.ZB,{children:"Expenses Summary"})}),(0,a.jsx)(p.Wu,{children:i?(0,a.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,a.jsx)(N.A,{className:"h-6 w-6 animate-spin text-primary"}),(0,a.jsx)("p",{className:"ml-2",children:"Loading summary..."})]}):0===eO.length&&t.length>0?(0,a.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No receipts match the current filters."}):(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"By Cost Type:"}),Object.entries(eG).map(e=>{let[t,r]=e;return(null!=r?r:0)>0&&(0,a.jsxs)("div",{className:"flex justify-between text-sm py-1 border-b last:border-b-0",children:[(0,a.jsxs)("span",{children:[t,":"]}),(0,a.jsxs)("span",{className:"font-medium",children:["$",(null!=r?r:0).toFixed(2)]})]},t)}),Object.values(eG).every(e=>(null!=e?e:0)===0)&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"No expenses for selected filters."})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-end items-end",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold flex items-center",children:[(0,a.jsx)(_.A,{className:"mr-1 h-5 w-5 text-green-600","data-ai-hint":"money cost"}),"Total (Filtered): $",eq.toFixed(2)]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Total of ",eO.length," receipt(s) matching filters."]})]})]})})]}),(0,a.jsxs)(p.Zp,{children:[(0,a.jsx)(p.aR,{children:(0,a.jsx)(p.ZB,{children:"Uploaded Receipts"})}),(0,a.jsx)(p.Wu,{children:i&&0===t.length?(0,a.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,a.jsx)(N.A,{className:"h-6 w-6 animate-spin text-primary"}),(0,a.jsx)("p",{className:"ml-2",children:"Loading receipts..."})]}):eO.length>0?(0,a.jsxs)(m.XI,{children:[(0,a.jsx)(m.A0,{children:(0,a.jsxs)(m.Hj,{children:[(0,a.jsx)(m.nd,{children:"Vendor"}),(0,a.jsx)(m.nd,{children:"Date"}),(0,a.jsx)(m.nd,{className:"text-right",children:"Amount"}),(0,a.jsx)(m.nd,{children:"Cost Type"}),(0,a.jsx)(m.nd,{children:"Assigned To"}),(0,a.jsx)(m.nd,{children:"File/Notes"}),(0,a.jsx)(m.nd,{className:"text-right w-[120px]",children:"Actions"})]})}),(0,a.jsx)(m.BF,{children:eO.map(e=>(0,a.jsxs)(m.Hj,{children:[(0,a.jsx)(m.nA,{className:"font-medium",children:e.vendor}),(0,a.jsx)(m.nA,{children:(0,w.GP)(new Date(e.date),"PP")}),(0,a.jsxs)(m.nA,{className:"text-right",children:["$",e.totalAmount.toFixed(2)]}),(0,a.jsx)(m.nA,{children:e.costType}),(0,a.jsxs)(m.nA,{className:"text-xs",children:[e.assignedToEventId&&(0,a.jsxs)("div",{children:["Event: ",e.assignedToEventId]}),e.assignedToMenuId&&(0,a.jsxs)("div",{children:["Menu: ",e.assignedToMenuId]})]}),(0,a.jsxs)(m.nA,{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:[e.fileName&&(0,a.jsx)("div",{className:"font-medium text-foreground",children:e.fileName}),e.imageUrl&&(0,a.jsx)("a",{href:e.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"(View Image)"}),e.notes&&(0,a.jsx)("div",{className:"italic",children:e.notes})]}),(0,a.jsxs)(m.nA,{className:"text-right",children:[(0,a.jsxs)(d.$,{variant:"ghost",size:"icon",onClick:()=>eU(e),className:"mr-1",disabled:L||eg,children:[(0,a.jsx)(F.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,a.jsxs)(d.$,{variant:"ghost",size:"icon",onClick:()=>eB(e.id),className:"text-destructive hover:text-destructive",disabled:L||eg,children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Delete"})]})]})]},e.id))})]}):(0,a.jsx)("p",{className:"text-muted-foreground text-center py-8",children:0===t.length?"No receipts uploaded yet. Start by adding your first expense!":"No receipts match the current filters. Try adjusting or clearing them."})})]}),(0,a.jsxs)(p.Zp,{className:"mt-8",children:[(0,a.jsx)(p.aR,{children:(0,a.jsx)(p.ZB,{children:"Financial Tools & Future Features"})}),(0,a.jsxs)(p.Wu,{className:"space-y-3 text-sm text-muted-foreground",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Event Profitability:"})," In the future, you'll be able to filter receipts by Event ID to see specific cost breakdowns and calculate profitability for each event."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Invoice Generation:"})," Upon event completion and confirmation, invoices will be automatically generated for both you and the customer, accessible through your respective dashboards."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"AI Cost Insights:"}),' We\'re working on AI tools to provide deeper insights into your spending patterns, helping you optimize menu pricing and purchasing. (Placeholder: A button "Get AI Insights on Event Costs" could appear here when an event is selected/filtered).']})]})]}),(0,a.jsxs)(g.Fc,{className:"mt-8",children:[(0,a.jsx)(E.A,{className:"h-4 w-4"}),(0,a.jsx)(g.XL,{children:"Payout & Financial Information"}),(0,a.jsx)(g.TN,{children:(0,a.jsxs)("ul",{className:"list-disc list-inside text-xs space-y-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Initial Fund Distribution:"})," Upon customer booking confirmation, 46% of the event cost is released to the chef and 4% to FindAChef immediately."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Escrow & Final Release:"})," The remaining 50% is held by FindAChef. This portion is released to the chef after the event is confirmed complete by the customer (typically via QR code scan at the event)."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Public Ticketed Events:"})," For events you host and sell tickets for via The Chef's Wall, payouts are generally scheduled 7 days *before* the event date to assist with upfront costs (subject to terms)."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Cancellations by Chef:"})," If a chef cancels an event, a full refund is issued to the customer. Admin will be notified to assist and manage chef accountability, which may include penalties if a replacement cannot be found."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Cancellations by Customer:"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"If a customer cancels more than 20 days before the event, a 50% refund is typically processed."}),(0,a.jsx)("li",{children:"If a customer cancels less than 20 days before the event, a 20% refund is processed. In this case, 15% of the total event cost goes to the chef and 15% to FindAChef."}),(0,a.jsxs)("li",{children:["Refer to the full ",(0,a.jsx)("a",{href:"/terms#cancellation",className:"underline hover:text-primary",children:"Terms of Service"})," for complete cancellation policy details."]})]})]}),(0,a.jsx)("li",{children:"Always ensure all receipts for an event are uploaded promptly for accurate cost tracking and potential tax purposes."})]})})]}),(0,a.jsx)("div",{className:"flex justify-end mt-6",children:(0,a.jsxs)(d.$,{onClick:()=>{if(0===eO.length)return void eF({title:"No Data",description:"Receipt list (with current filters) is empty.",variant:"default"});let e=new Blob([["Vendor,Date,Total Amount,Cost Type,Assigned to Event ID,Assigned to Menu ID,Notes,File Name,Image URL",...eO.map(e=>['"'.concat((e.vendor||"").replace(/"/g,'""'),'"'),(0,w.GP)(e.date,"yyyy-MM-dd"),e.totalAmount.toFixed(2),'"'.concat((e.costType||"").replace(/"/g,'""'),'"'),'"'.concat((e.assignedToEventId||"").replace(/"/g,'""'),'"'),'"'.concat((e.assignedToMenuId||"").replace(/"/g,'""'),'"'),'"'.concat((e.notes||"").replace(/"/g,'""'),'"'),'"'.concat((e.fileName||"").replace(/"/g,'""'),'"'),'"'.concat((e.imageUrl||"").replace(/"/g,'""'),'"')].join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");if(void 0!==t.download){let r=URL.createObjectURL(e);t.setAttribute("href",r),t.setAttribute("download","filtered_receipts_export.csv"),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(r)}eF({title:"Export Successful",description:"Filtered receipts exported to CSV."})},variant:"outline",disabled:0===eO.length,children:[(0,a.jsx)(O.A,{className:"mr-2 h-5 w-5"})," Export Filtered Data (CSV)"]})})]})}},53941:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var a=r(35476);function s(e){let t=(0,a.a)(e);return t.setHours(23,59,59,999),t}},55028:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(36645),s=r.n(a)},55365:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>d,TN:()=>c,XL:()=>o});var a=r(95155),s=r(12115),n=r(74466),l=r(59434);let i=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,l.cn)(i({variant:s}),r),...n})});d.displayName="Alert";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});o.displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",r),...s})});c.displayName="AlertDescription"},59409:(e,t,r)=>{"use strict";r.d(t,{bq:()=>m,eb:()=>x,gC:()=>f,l6:()=>c,yv:()=>u});var a=r(95155),s=r(12115),n=r(8194),l=r(79556),i=r(77381),d=r(10518),o=r(59434);let c=n.bL;n.YJ;let u=n.WT,m=s.forwardRef((e,t)=>{let{className:r,children:s,...i}=e;return(0,a.jsxs)(n.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[s,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.l9.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=n.PP.displayName;let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=n.wn.displayName;let f=s.forwardRef((e,t)=>{let{className:r,children:s,position:l="popper",...i}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...i,children:[(0,a.jsx)(p,{}),(0,a.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(h,{})]})})});f.displayName=n.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})}).displayName=n.JU.displayName;let x=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsxs)(n.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(n.p4,{children:s})]})});x.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=n.wv.displayName},62146:(e,t,r)=>{"use strict";function a(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),r(45262)},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(95155),s=r(12115),n=r(59434);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return n},createSnapshot:function(){return i}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function n(){return s?new s:new a}function l(e){return s?s.bind(e):a.bind(e)}function i(){return s?s.snapshot():function(e,...t){return e(...t)}}},67357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let a=r(95155),s=r(12115),n=r(62146);function l(e){return{default:e&&"default"in e?e.default:e}}r(10255);let i={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},d=function(e){let t={...i,...e},r=(0,s.lazy)(()=>t.loader().then(l)),d=t.loading;function o(e){let l=d?(0,a.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,o=i?s.Suspense:s.Fragment,c=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(o,{...i?{fallback:l}:{},children:c})}return o.displayName="LoadableComponent",o}},68718:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},74601:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},77223:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},85057:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var a=r(95155),s=r(12115),n=r(40968),l=r(74466),i=r(59434);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,i.cn)(d(),r),...s})});o.displayName=n.b.displayName},85127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>i,BF:()=>d,Hj:()=>o,XI:()=>l,nA:()=>u,nd:()=>c});var a=r(95155),s=r(12115),n=r(59434);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});l.displayName="Table";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});i.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});d.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});o.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},85511:(e,t,r)=>{"use strict";r.d(t,{V:()=>o});var a=r(95155);r(12115);var s=r(965),n=r(73158),l=r(77020),i=r(59434),d=r(30285);function o(e){let{className:t,classNames:r,showOutsideDays:o=!0,...c}=e;return(0,a.jsx)(l.hv,{showOutsideDays:o,className:(0,i.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,d.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,d.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:e=>{let{className:t,...r}=e;return(0,a.jsx)(s.A,{className:(0,i.cn)("h-4 w-4",t),...r})},IconRight:e=>{let{className:t,...r}=e;return(0,a.jsx)(n.A,{className:(0,i.cn)("h-4 w-4",t),...r})}},...c})}o.displayName="Calendar"},85744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=r(17828)},88539:(e,t,r)=>{"use strict";r.d(t,{T:()=>l});var a=r(95155),s=r(12115),n=r(59434);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});l.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7446,9352,4453,4602,1345,6766,65,1342,106,5740,3013,7576,4314,1802,8226,8441,1684,7358],()=>t(17763)),_N_E=e.O()}]);