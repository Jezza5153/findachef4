(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1255],{5669:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var r=a(95155),t=a(12115),i=a(35695),n=a(73783),o=a(79772),l=a(81497),c=a(23562),d=a(14541),h=a(49523),u=a(86151),f=a(79249),x=a(46973),g=a(57434),m=a(95778),b=a(87481),p=a(59576),j=a(66695),y=a(30285),v=a(56104),N=a(93004),w=a(51154);let A=(0,a(55028).default)(()=>Promise.all([a.e(1345),a.e(6874),a.e(7649),a.e(5152),a.e(9613),a.e(6862)]).then(a.bind(a,86862)).then(e=>e.DashboardLayout),{loadableGenerated:{webpack:()=>[86862]},ssr:!1,loading:()=>(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center",children:[(0,r.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary"})," Loading Dashboard..."]})}),C=[{href:"/chef/dashboard",label:"Overview",icon:(0,r.jsx)(n.A,{}),matchExact:!0},{href:"/chef/dashboard/profile",label:"My Profile",icon:(0,r.jsx)(o.A,{})},{href:"/chef/dashboard/requests",label:"Requests",icon:(0,r.jsx)(l.A,{})},{href:"/chef/dashboard/calendar",label:"Calendar & Events",icon:(0,r.jsx)(c.A,{})},{href:"/wall",label:"The Chef's Wall",icon:(0,r.jsx)(d.A,{})},{href:"/chef/dashboard/menus",label:"Menus",icon:(0,r.jsx)(h.A,{})},{href:"/chef/dashboard/shopping-list",label:"Shopping List",icon:(0,r.jsx)(u.A,{})},{href:"/chef/dashboard/chefs",label:"Chef Directory",icon:(0,r.jsx)(f.A,{})},{href:"/chef/dashboard/collaborations",label:"Collaborations",icon:(0,r.jsx)(x.A,{})},{href:"/chef/dashboard/receipts",label:"Receipts & Costs",icon:(0,r.jsx)(g.A,{})}];function k(e){let{children:s}=e,a=(0,i.useRouter)(),{toast:n}=(0,b.dj)(),{user:o,userProfile:l,loading:c,isChef:d,isChefApproved:h,profileLoading:u}=(0,p.A)(),f=c||u;return((0,t.useEffect)(()=>{if(!f){if(!o){console.log("ChefDashboardLayout: No user, redirecting to login."),a.push("/login?redirect=/chef/dashboard");return}if(!d){n({title:"Access Denied",description:"You must be logged in as a chef to access this page.",variant:"destructive"}),console.log("ChefDashboardLayout: Not a chef, redirecting to login."),a.push("/login");return}}},[o,f,d,h,a,n]),f)?(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center bg-background",children:[(0,r.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary","data-ai-hint":"loading spinner"}),(0,r.jsx)("p",{className:"ml-3 text-lg text-foreground",children:"Loading Chef Dashboard..."})]}):o&&d?h||l&&"admin"===l.role?(0,r.jsx)(A,{navItems:C,children:s}):(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:(0,r.jsxs)(j.Zp,{className:"w-full max-w-md text-center shadow-lg",children:[(0,r.jsxs)(j.aR,{children:[(0,r.jsx)("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-yellow-500/10 text-yellow-600",children:(0,r.jsx)(m.A,{className:"h-8 w-8","data-ai-hint":"security shield alert"})}),(0,r.jsx)(j.ZB,{className:"text-2xl",children:"Account Pending Approval"})]}),(0,r.jsxs)(j.Wu,{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Thank you for signing up! Your chef profile is currently under review by our team. You will be notified once your account is approved. This can take up to 48 hours."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"If you have any questions, please contact support."}),(0,r.jsx)(y.$,{onClick:async()=>{try{await (0,N.CI)(v.j2),n({title:"Logged Out",description:"You have been logged out."})}catch(e){console.error("Error signing out:",e),n({title:"Logout Error",description:"Could not log out: ".concat(e.message),variant:"destructive"})}a.push("/login")},children:"Back to Login"})]})]})}):(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center bg-background",children:[(0,r.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ml-3 text-lg text-foreground",children:"Verifying chef access..."})]})}},69130:(e,s,a)=>{Promise.resolve().then(a.bind(a,5669))}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,7446,9352,5100,4602,9267,5845,8441,1684,7358],()=>s(69130)),_N_E=e.O()}]);