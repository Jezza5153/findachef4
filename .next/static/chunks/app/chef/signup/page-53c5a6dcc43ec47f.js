(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3052],{6830:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>B});var a=r(95155),t=r(90221),l=r(62177),i=r(55594),n=r(30285),c=r(17759),o=r(62523),d=r(88539),m=r(47262),u=r(66695),x=r(83138),h=r(12115),j=r(87481),p=r(90232),f=r(50744),b=r(51154),g=r(12318),y=r(6874),w=r.n(y),N=r(35695),v=r(93004),S=r(56104),k=r(90858),R=r(35317);let C=i.Ik({name:i.Yj().min(2,"Name required"),email:i.Yj().email(),password:i.Yj().min(6,"Password at least 6 chars"),bio:i.Yj().min(10,"Short bio required"),terms:i.zM().refine(e=>e,{message:"You must accept the terms"})});function B(){(0,N.useRouter)();let{toast:e}=(0,j.dj)(),[s,r]=(0,h.useState)(!1),[i,y]=(0,h.useState)(null),[B,I]=(0,h.useState)(null),[A,P]=(0,h.useState)(!1),Y=(0,l.mN)({resolver:(0,t.u)(C),defaultValues:{name:"",email:"",password:"",bio:"",terms:!1}}),_=async s=>{r(!0);try{let a=(0,k.KR)(S.IG,"resumes/".concat(s.name,"-").concat(Date.now())),t=(0,k.bp)(a,s);await new Promise((e,s)=>{t.on("state_changed",null,e=>s(e),async()=>{let s=await (0,k.qk)(t.snapshot.ref);y(s),r(!1),e()})}),I(s),e({title:"Resume uploaded!",variant:"success"})}catch(s){r(!1),e({title:"Resume upload failed",description:String(s),variant:"destructive"})}},J=async s=>{if(!B||!i)return void e({title:"Resume required",description:"Please upload your resume first.",variant:"destructive"});r(!0);try{let e=await (0,v.eJ)(S.j2,s.email,s.password);await (0,v.r7)(e.user,{displayName:s.name});let r={uid:e.user.uid,name:s.name,email:s.email,bio:s.bio,resume:i,createdAt:(0,R.O5)(),verified:!1,tags:[]};await (0,R.BN)((0,R.H9)(S.db,"chefs",e.user.uid),r),await (0,v.CI)(S.j2),P(!0)}catch(s){e({title:"Signup failed",description:s.message||"Please try again.",variant:"destructive"})}finally{r(!1)}};return A?(0,a.jsx)("main",{className:"flex items-center justify-center min-h-screen bg-background px-2",children:(0,a.jsxs)(u.Zp,{className:"max-w-lg w-full mx-auto my-12 p-8 flex flex-col items-center text-center",children:[(0,a.jsx)(p.A,{className:"h-14 w-14 text-primary mb-3"}),(0,a.jsx)(u.ZB,{className:"text-2xl mb-2",children:"Thank you for your application!"}),(0,a.jsxs)(u.BT,{children:["Our admin team is reviewing your submission.",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"block mt-2",children:"Youâ€™ll be notified by email once your account is approved and you can log in."})]}),(0,a.jsx)(w(),{href:"/",className:"mt-8 underline text-primary text-sm",children:"Return to homepage"})]})}):(0,a.jsx)("main",{className:"flex items-center justify-center min-h-screen bg-background px-2",children:(0,a.jsxs)(u.Zp,{className:"max-w-xl w-full mx-auto my-12 p-6",children:[(0,a.jsxs)(u.aR,{className:"flex flex-col items-center",children:[(0,a.jsx)(f.A,{className:"h-12 w-12 text-primary mb-2"}),(0,a.jsx)(u.ZB,{className:"text-2xl",children:"Sign Up as a Chef"}),(0,a.jsx)(u.BT,{children:"Join the platform and get discovered for private or public events!"})]}),(0,a.jsx)(u.Wu,{children:(0,a.jsx)(c.lV,{...Y,children:(0,a.jsxs)("form",{onSubmit:Y.handleSubmit(J),className:"flex flex-col gap-4",autoComplete:"off",children:[(0,a.jsx)(c.zB,{control:Y.control,name:"name",render:e=>{let{field:s}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Full Name"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(o.p,{placeholder:"Your full name",...s})}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(c.zB,{control:Y.control,name:"email",render:e=>{let{field:s}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Email"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(o.p,{type:"email",placeholder:"Email address",...s})}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(c.zB,{control:Y.control,name:"password",render:e=>{let{field:s}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Password"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(o.p,{type:"password",placeholder:"Password",...s})}),(0,a.jsx)(c.Rr,{children:"Minimum 6 characters"}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(c.zB,{control:Y.control,name:"bio",render:e=>{let{field:s}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Short Bio"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(d.T,{rows:2,placeholder:"Tell us about your chef style...",...s})}),(0,a.jsx)(c.Rr,{children:"Describe your cooking style and background."}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.lR,{children:"Resume (PDF, required)"}),(0,a.jsx)(x.X,{value:i,onFileSelect:_,uploading:s,previewUrl:i}),!i&&(0,a.jsx)(c.Rr,{children:"You must upload your chef resume to sign up."})]}),(0,a.jsx)(c.zB,{control:Y.control,name:"terms",render:e=>{let{field:s}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.S,{checked:s.value,onCheckedChange:s.onChange,id:"terms"})}),(0,a.jsxs)(c.lR,{htmlFor:"terms",className:"inline ml-2",children:["I agree to the ",(0,a.jsx)(w(),{href:"/terms",target:"_blank",className:"underline",children:"terms & conditions"})]}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(n.$,{type:"submit",className:"w-full mt-2",disabled:s||Y.formState.isSubmitting,children:s||Y.formState.isSubmitting?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"animate-spin mr-2 h-5 w-5"}),"Submitting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.A,{className:"mr-2 h-5 w-5"}),"Submit Application"]})}),(0,a.jsxs)("p",{className:"text-center mt-3 text-muted-foreground text-sm",children:["Already have an account?"," ",(0,a.jsx)(w(),{href:"/login",className:"underline text-primary",children:"Login here"})]})]})})})]})})}},47262:(e,s,r)=>{"use strict";r.d(s,{S:()=>c});var a=r(95155),t=r(12115),l=r(76981),i=r(5196),n=r(59434);let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.bL,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:(0,a.jsx)(l.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})})});c.displayName=l.bL.displayName},86349:(e,s,r)=>{Promise.resolve().then(r.bind(r,6830))}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,7446,9352,5100,4602,6874,7322,8938,2507,8441,1684,7358],()=>s(86349)),_N_E=e.O()}]);