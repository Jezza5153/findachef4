(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6283],{6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=r(12115);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=n(e,s)),t&&(a.current=n(t,s))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},14636:(e,t,r)=>{"use strict";r.d(t,{AM:()=>i,Wv:()=>o,hl:()=>d});var s=r(95155),a=r(12115),n=r(20547),l=r(59434);let i=n.bL,o=n.l9,d=a.forwardRef((e,t)=>{let{className:r,align:a="center",sideOffset:i=4,...o}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsx)(n.UC,{ref:t,align:a,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o})})});d.displayName=n.UC.displayName},15121:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]])},17759:(e,t,r)=>{"use strict";r.d(t,{C5:()=>j,MJ:()=>h,Rr:()=>g,eI:()=>x,lR:()=>p,lV:()=>d,zB:()=>u});var s=r(95155),a=r(12115),n=r(99708),l=r(62177),i=r(59434),o=r(85057);let d=l.Op,c=a.createContext({}),u=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(l.xI,{...t})})},m=()=>{let e=a.useContext(c),t=a.useContext(f),{getFieldState:r,formState:s}=(0,l.xW)(),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},f=a.createContext({}),x=a.forwardRef((e,t)=>{let{className:r,...n}=e,l=a.useId();return(0,s.jsx)(f.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...n})})});x.displayName="FormItem";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:n,formItemId:l}=m();return(0,s.jsx)(o.J,{ref:t,className:(0,i.cn)(n&&"text-destructive",r),htmlFor:l,...a})});p.displayName="FormLabel";let h=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:l,formDescriptionId:i,formMessageId:o}=m();return(0,s.jsx)(n.DX,{ref:t,id:l,"aria-describedby":a?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!a,...r})});h.displayName="FormControl";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:n}=m();return(0,s.jsx)("p",{ref:t,id:n,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});g.displayName="FormDescription";let j=a.forwardRef((e,t)=>{var r;let{className:a,children:n,...l}=e,{error:o,formMessageId:d}=m(),c=o?String(null!=(r=null==o?void 0:o.message)?r:""):n;return c?(0,s.jsx)("p",{ref:t,id:d,className:(0,i.cn)("text-sm font-medium text-destructive",a),...l,children:c}):null});j.displayName="FormMessage"},35695:(e,t,r)=>{"use strict";var s=r(18999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},50286:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(95155),a=r(12115),n=r(59434);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},68529:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var s=r(95155),a=r(90221),n=r(62177),l=r(55594),i=r(30285),o=r(17759),d=r(62523),c=r(88539),u=r(85511),m=r(14636),f=r(66695),x=r(87481),p=r(59434),h=r(70831),g=r(80644),j=r(83013),y=r(50172),b=r(15300),v=r(50594),N=r(88390),w=r(50286),R=r(15121),P=r(51920),_=r(73672),A=r(6874),C=r.n(A),M=r(59576),I=r(35695),k=r(56104),q=r(35317),S=r(12115);let D=l.Ik({eventType:l.Yj().min(3,{message:"Event type must be at least 3 characters."}),budget:l.au.number().min(0,{message:"Budget must be a positive number."}),cuisinePreference:l.Yj().min(2,{message:"Cuisine preference is required."}),pax:l.au.number().min(1,{message:"Number of guests must be at least 1."}),eventDate:l.p6({required_error:"Event date is required."}).refine(e=>e>=(0,h.f)((0,g.o)(new Date),2),{message:"Event date must be at least 48 hours from now."}),notes:l.Yj().optional(),location:l.Yj().optional()});function E(){let{user:e,loading:t}=(0,M.A)(),r=(0,I.useRouter)(),{toast:l}=(0,x.dj)(),[A,E]=(0,S.useState)(!1),z=(0,n.mN)({resolver:(0,a.u)(D),defaultValues:{eventType:"",budget:0,cuisinePreference:"",pax:1,eventDate:void 0,notes:"",location:""}});(0,S.useEffect)(()=>{t||e||r.push("/login?redirect=/customer/requests/new")},[e,t,r]);let B=async t=>{if(!e)return void l({title:"Authentication Error",description:"Please log in to submit a request.",variant:"destructive"});E(!0);try{let s={...t,eventDate:q.Dc.fromDate(t.eventDate),customerId:e.uid,status:"new"},a=await (0,q.gS)((0,q.rJ)(k.db,"customerRequests"),{...s,createdAt:(0,q.O5)(),updatedAt:(0,q.O5)(),activeProposal:null,declinedChefIds:[],respondingChefIds:[]});l({title:"Request Submitted Successfully!",description:"Chefs matching your criteria will be notified. You can track responses in your messages."}),z.reset(),r.push("/customer/dashboard/messages?requestId=".concat(a.id))}catch(e){console.error("Error submitting new request:",e),l({title:"Submission Failed",description:"Could not submit your request. Please try again.",variant:"destructive"})}finally{E(!1)}};return!t&&(e||t)?(0,s.jsx)("div",{className:"container mx-auto max-w-2xl py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)(f.Zp,{className:"shadow-xl",children:[(0,s.jsxs)(f.aR,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-primary/10 text-primary","data-ai-hint":"request form icon",children:(0,s.jsx)(b.A,{className:"h-8 w-8"})}),(0,s.jsx)(f.ZB,{className:"text-3xl font-bold",children:"Post Your Event Request"}),(0,s.jsx)(f.BT,{className:"text-lg",children:"Tell us about your event, and let our chefs come to you with proposals."})]}),(0,s.jsx)(f.Wu,{children:(0,s.jsx)(o.lV,{...z,children:(0,s.jsxs)("form",{onSubmit:z.handleSubmit(B),className:"space-y-8",children:[(0,s.jsx)(o.zB,{control:z.control,name:"eventType",render:e=>{let{field:t}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsxs)(o.lR,{className:"flex items-center",children:[(0,s.jsx)(v.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Event Type"]}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Birthday Party, Corporate Dinner, Anniversary",...t})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsx)(o.zB,{control:z.control,name:"budget",render:e=>{let{field:t}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsxs)(o.lR,{className:"flex items-center",children:[(0,s.jsx)(N.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Your Budget (USD)"]}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{type:"number",placeholder:"e.g., 500",...t})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:z.control,name:"pax",render:e=>{let{field:t}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsxs)(o.lR,{className:"flex items-center",children:[(0,s.jsx)(w.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Number of Guests (PAX)"]}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{type:"number",placeholder:"e.g., 10",...t})}),(0,s.jsx)(o.C5,{})]})}})]}),(0,s.jsx)(o.zB,{control:z.control,name:"cuisinePreference",render:e=>{let{field:t}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsxs)(o.lR,{className:"flex items-center",children:[(0,s.jsx)(R.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Cuisine Preference"]}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Italian, Mexican, Surprise Me!",...t})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:z.control,name:"location",render:e=>{let{field:t}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsxs)(o.lR,{className:"flex items-center",children:[(0,s.jsx)(MapPin,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Event Location (Optional)"]}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., My Home in Anytown, Event Venue Name",...t})}),(0,s.jsx)(o.Rr,{children:"Provide an address or general area."}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:z.control,name:"eventDate",render:e=>{let{field:t}=e;return(0,s.jsxs)(o.eI,{className:"flex flex-col",children:[(0,s.jsxs)(o.lR,{className:"mb-1 flex items-center",children:[(0,s.jsx)(P.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Event Date"]}),(0,s.jsxs)(m.AM,{children:[(0,s.jsx)(m.Wv,{asChild:!0,children:(0,s.jsx)(o.MJ,{children:(0,s.jsxs)(i.$,{variant:"outline",className:(0,p.cn)("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?(0,j.GP)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"}),(0,s.jsx)(P.A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,s.jsx)(m.hl,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(u.V,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:e=>e<(0,h.f)((0,g.o)(new Date),2),initialFocus:!0})})]}),(0,s.jsxs)(o.Rr,{className:"text-xs",children:["Minimum 48 hours notice required. Please note that cancellation policies apply. Review our ",(0,s.jsx)(C(),{href:"/terms#cancellation",className:"underline hover:text-primary",children:"Terms of Service"})," for details."]}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:z.control,name:"notes",render:e=>{let{field:t}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{children:"Additional Notes (Optional)"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(c.T,{placeholder:"Any dietary restrictions, special requests, or other details...",className:"min-h-[100px]",...t})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsxs)(i.$,{type:"submit",className:"w-full text-lg py-3",size:"lg",disabled:A,children:[A?(0,s.jsx)(y.A,{className:"mr-2 h-5 w-5 animate-spin"}):(0,s.jsx)(_.A,{className:"mr-2 h-5 w-5"}),"Submit Request"]})]})})})]})}):(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsx)(y.A,{className:"h-12 w-12 animate-spin text-primary"})})}},70782:(e,t,r)=>{Promise.resolve().then(r.bind(r,68529))},73672:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},85057:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(95155),a=r(12115),n=r(40968),l=r(74466),i=r(59434);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,i.cn)(o(),r),...a})});d.displayName=n.b.displayName},85511:(e,t,r)=>{"use strict";r.d(t,{V:()=>d});var s=r(95155);r(12115);var a=r(965),n=r(73158),l=r(77020),i=r(59434),o=r(30285);function d(e){let{className:t,classNames:r,showOutsideDays:d=!0,...c}=e;return(0,s.jsx)(l.hv,{showOutsideDays:d,className:(0,i.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,o.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,o.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:e=>{let{className:t,...r}=e;return(0,s.jsx)(a.A,{className:(0,i.cn)("h-4 w-4",t),...r})},IconRight:e=>{let{className:t,...r}=e;return(0,s.jsx)(n.A,{className:(0,i.cn)("h-4 w-4",t),...r})}},...c})}d.displayName="Calendar"},88539:(e,t,r)=>{"use strict";r.d(t,{T:()=>l});var s=r(95155),a=r(12115),n=r(59434);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});l.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7446,9352,4453,4602,1345,65,6874,1342,106,5740,3013,7576,1802,8226,8441,1684,7358],()=>t(70782)),_N_E=e.O()}]);