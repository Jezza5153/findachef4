(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3544],{17759:(e,r,s)=>{"use strict";s.d(r,{C5:()=>y,MJ:()=>g,Rr:()=>x,eI:()=>p,lR:()=>h,lV:()=>d,zB:()=>u});var t=s(95155),a=s(12115),i=s(99708),o=s(62177),n=s(59434),l=s(85057);let d=o.Op,c=a.createContext({}),u=e=>{let{...r}=e;return(0,t.jsx)(c.Provider,{value:{name:r.name},children:(0,t.jsx)(o.xI,{...r})})},m=()=>{let e=a.useContext(c),r=a.useContext(f),{getFieldState:s,formState:t}=(0,o.xW)(),i=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=r;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...i}},f=a.createContext({}),p=a.forwardRef((e,r)=>{let{className:s,...i}=e,o=a.useId();return(0,t.jsx)(f.Provider,{value:{id:o},children:(0,t.jsx)("div",{ref:r,className:(0,n.cn)("space-y-2",s),...i})})});p.displayName="FormItem";let h=a.forwardRef((e,r)=>{let{className:s,...a}=e,{error:i,formItemId:o}=m();return(0,t.jsx)(l.J,{ref:r,className:(0,n.cn)(i&&"text-destructive",s),htmlFor:o,...a})});h.displayName="FormLabel";let g=a.forwardRef((e,r)=>{let{...s}=e,{error:a,formItemId:o,formDescriptionId:n,formMessageId:l}=m();return(0,t.jsx)(i.DX,{ref:r,id:o,"aria-describedby":a?"".concat(n," ").concat(l):"".concat(n),"aria-invalid":!!a,...s})});g.displayName="FormControl";let x=a.forwardRef((e,r)=>{let{className:s,...a}=e,{formDescriptionId:i}=m();return(0,t.jsx)("p",{ref:r,id:i,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});x.displayName="FormDescription";let y=a.forwardRef((e,r)=>{var s;let{className:a,children:i,...o}=e,{error:l,formMessageId:d}=m(),c=l?String(null!=(s=null==l?void 0:l.message)?s:""):i;return c?(0,t.jsx)("p",{ref:r,id:d,className:(0,n.cn)("text-sm font-medium text-destructive",a),...o,children:c}):null});y.displayName="FormMessage"},30285:(e,r,s)=>{"use strict";s.d(r,{$:()=>d,r:()=>l});var t=s(95155),a=s(12115),i=s(99708),o=s(74466),n=s(59434);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:s,variant:a,size:o,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,t.jsx)(u,{className:(0,n.cn)(l({variant:a,size:o,className:s})),ref:r,...c})});d.displayName="Button"},35281:(e,r,s)=>{Promise.resolve().then(s.bind(s,80610))},47262:(e,r,s)=>{"use strict";s.d(r,{S:()=>l});var t=s(95155),a=s(12115),i=s(76981),o=s(5196),n=s(59434);let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(i.bL,{ref:r,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,t.jsx)(i.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})})});l.displayName=i.bL.displayName},56104:(e,r,s)=>{"use strict";let t;s.d(r,{IG:()=>c,db:()=>u,j2:()=>d});var a=s(23915),i=s(93004),o=s(90858),n=s(35317);let l={apiKey:'"AIzaSyDNMNa2a-BFUlmQ6PAA2hAIA3j07dYQUWQ",',authDomain:'"findachef2.firebaseapp.com",',projectId:'"findachef2",',storageBucket:'"findachef2.firebasestorage.app",',messagingSenderId:'"738524307993",',appId:'"1:738524307993:web:780dbfa516d646154cc088",',measurementId:'ntId: "G-PFXWD80NBY"'},d=null,c=null,u=null,m=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].filter(e=>!l[e]);if(m.length>0)console.error("CRITICAL FIREBASE CONFIG ERROR: The following Firebase config keys are missing or undefined in your environment variables:",m.join(", ")),console.error("This will cause Firebase services (Auth, Firestore, Storage) to fail or not initialize."),console.error("Ensure these are correctly set in your .env.local file (for local development) AND in your Vercel project environment variables (for deployment).");else if(console.log("Firebase Config OK: All required keys found."),console.log("Firebase Initializing with Project ID:",l.projectId),console.log("Firebase Using API Key (first 5 chars):",l.apiKey?l.apiKey.substring(0,5)+"...":"API Key Not Found/Defined"),(0,a.Dk)().length)t=(0,a.Dk)()[0],console.log("Firebase app already initialized.");else try{t=(0,a.Wp)(l),console.log("Firebase app initialized successfully.")}catch(e){console.error("Firebase initializeApp error:",e),t=void 0}if(t)try{d=(0,i.xI)(t),c=(0,o.c7)(t),u=(0,n.aU)(t),console.log("Firebase services (Auth, Storage, Firestore) initialized.")}catch(e){console.error("Error initializing Firebase services (Auth, Storage, Firestore):",e),d=null,c=null,u=null}else console.error("Firebase app was not initialized. Other Firebase services (Auth, Storage, Firestore) will NOT be available.")},59434:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i});var t=s(52596),a=s(39688);function i(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}},62523:(e,r,s)=>{"use strict";s.d(r,{p:()=>o});var t=s(95155),a=s(12115),i=s(59434);let o=a.forwardRef((e,r)=>{let{className:s,type:a,...o}=e;return(0,t.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...o})});o.displayName="Input"},66695:(e,r,s)=>{"use strict";s.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>n,wL:()=>u});var t=s(95155),a=s(12115),i=s(59434);let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});o.displayName="Card";let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...a})});n.displayName="CardHeader";let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},80610:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>A});var t=s(95155),a=s(90221),i=s(62177),o=s(55594),n=s(30285),l=s(17759),d=s(62523),c=s(47262),u=s(66695),m=s(87481),f=s(12318),p=s(90232),h=s(51154),g=s(6874),x=s.n(g),y=s(93004),b=s(56104),v=s(35317),j=s(35695),w=s(12115);let N=o.Ik({email:o.Yj().email({message:"Invalid email address."}),password:o.Yj().min(8,{message:"Password must be at least 8 characters."}),confirmPassword:o.Yj(),name:o.Yj().min(2,{message:"Name must be at least 2 characters."}),agreedToTerms:o.zM().refine(e=>!0===e,{message:"You must agree to the terms and policies to continue."})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function A(){let{toast:e}=(0,m.dj)(),r=(0,j.useRouter)(),[s,o]=(0,w.useState)(!1),g=(0,i.mN)({resolver:(0,a.u)(N),defaultValues:{email:"",password:"",confirmPassword:"",name:"",agreedToTerms:!1}}),A=async s=>{o(!0),console.log("CustomerSignup: Starting signup process for email:",s.email);try{console.log("CustomerSignup: Attempting to create Firebase Auth user...");let t=(await (0,y.eJ)(b.j2,s.email,s.password)).user;console.log("CustomerSignup: Firebase Auth user created successfully. UID:",t.uid),console.log("CustomerSignup: Updating Firebase Auth profile (displayName) for UID:",t.uid);try{await (0,y.r7)(t,{displayName:s.name}),console.log("CustomerSignup: Firebase Auth profile updated.")}catch(e){console.warn("CustomerSignup: Error updating Firebase Auth profile (non-critical):",e)}let a={id:t.uid,email:t.email,name:s.name,role:"customer",accountStatus:"active",createdAt:(0,v.O5)(),updatedAt:(0,v.O5)(),profilePictureUrl:t.photoURL||""};console.log("CustomerSignup: Saving customer profile to Firestore with role:",a.role);try{await (0,v.BN)((0,v.H9)(b.db,"users",t.uid),a),console.log("CustomerSignup: Firestore document created successfully for user:",t.uid)}catch(s){console.error("CustomerSignup: Error saving profile to Firestore:",s);let r="Failed to save profile data to database.";throw"permission-denied"===s.code&&(r="Database permission denied. Check Firestore security rules for creating user profiles."),e({title:"Profile Save Failed",description:r,variant:"destructive",duration:7e3}),s}e({title:"Account Created Successfully!",description:"Welcome to FindAChef! You can now log in.",duration:5e3}),r.push("/login?email="+s.email)}catch(s){console.error("CustomerSignup: Overall signup error:",s);let r="Failed to create account. Please try again.";"auth/email-already-in-use"===s.code?r="This email address is already in use. Please log in or use a different email.":"auth/weak-password"===s.code?r="The password is too weak. Please choose a stronger password.":s.message&&(s.message.includes("permission denied")||"permission-denied"===s.code)?r="Database operation failed due to permissions. Please check security rules.":s.code&&s.message?r="An error occurred: ".concat(s.message," (Code: ").concat(s.code,")"):s.message&&(r=s.message),e({title:"Signup Failed",description:r,variant:"destructive"})}finally{o(!1)}};return(0,t.jsx)("div",{className:"container mx-auto flex min-h-[calc(100vh-8rem)] items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)(u.Zp,{className:"w-full max-w-md shadow-xl",children:[(0,t.jsxs)(u.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-primary/10 text-primary",children:(0,t.jsx)(f.A,{className:"h-8 w-8","data-ai-hint":"user add person"})}),(0,t.jsx)(u.ZB,{className:"text-3xl font-bold",children:"Create Your Customer Account"}),(0,t.jsx)(u.BT,{className:"text-lg",children:"Join FindAChef to discover amazing culinary experiences."})]}),(0,t.jsxs)(u.Wu,{className:"space-y-8",children:[(0,t.jsx)(l.lV,{...g,children:(0,t.jsxs)("form",{onSubmit:g.handleSubmit(A),className:"space-y-6",children:[(0,t.jsx)(l.zB,{control:g.control,name:"name",render:e=>{let{field:r}=e;return(0,t.jsxs)(l.eI,{children:[(0,t.jsx)(l.lR,{children:"Full Name"}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(d.p,{placeholder:"e.g., Alex Smith",...r})}),(0,t.jsx)(l.C5,{})]})}}),(0,t.jsx)(l.zB,{control:g.control,name:"email",render:e=>{let{field:r}=e;return(0,t.jsxs)(l.eI,{children:[(0,t.jsx)(l.lR,{children:"Email Address"}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(d.p,{type:"email",placeholder:"you@example.com",...r})}),(0,t.jsx)(l.C5,{})]})}}),(0,t.jsx)(l.zB,{control:g.control,name:"password",render:e=>{let{field:r}=e;return(0,t.jsxs)(l.eI,{children:[(0,t.jsx)(l.lR,{children:"Password"}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(d.p,{type:"password",placeholder:"•••••••• (min. 8 characters)",...r})}),(0,t.jsx)(l.C5,{})]})}}),(0,t.jsx)(l.zB,{control:g.control,name:"confirmPassword",render:e=>{let{field:r}=e;return(0,t.jsxs)(l.eI,{children:[(0,t.jsx)(l.lR,{children:"Confirm Password"}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(d.p,{type:"password",placeholder:"••••••••",...r})}),(0,t.jsx)(l.C5,{})]})}}),(0,t.jsx)(l.zB,{control:g.control,name:"agreedToTerms",render:e=>{let{field:r}=e;return(0,t.jsxs)(l.eI,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4 shadow-sm",children:[(0,t.jsx)(l.MJ,{children:(0,t.jsx)(c.S,{checked:r.value,onCheckedChange:r.onChange})}),(0,t.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,t.jsxs)(l.lR,{className:"flex items-center",children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Agreement & Policies"]}),(0,t.jsxs)(l.Rr,{children:["I agree to the FindAChef ",(0,t.jsx)(x(),{href:"/terms",className:"underline hover:text-primary",children:"Terms of Service"})," and acknowledge the ",(0,t.jsx)(x(),{href:"/privacy-policy",className:"underline hover:text-primary",children:"Privacy Policy"}),"."]}),(0,t.jsx)(l.C5,{})]})]})}}),(0,t.jsx)(n.$,{type:"submit",className:"w-full text-lg py-3",size:"lg",disabled:s,children:s?(0,t.jsx)(h.A,{className:"mr-2 h-5 w-5 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{className:"mr-2 h-5 w-5"})," Create Account"]})})]})}),(0,t.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,t.jsx)(x(),{href:"/login",className:"font-medium text-primary hover:underline",children:"Log In"})]}),(0,t.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["Are you a Chef?"," ",(0,t.jsx)(x(),{href:"/chef/signup",className:"font-medium text-primary hover:underline",children:"Sign up here"})]})]})]})})}},85057:(e,r,s)=>{"use strict";s.d(r,{J:()=>d});var t=s(95155),a=s(12115),i=s(40968),o=s(74466),n=s(59434);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(i.b,{ref:r,className:(0,n.cn)(l(),s),...a})});d.displayName=i.b.displayName},87481:(e,r,s)=>{"use strict";s.d(r,{dj:()=>m});var t=s(12115);let a=0,i=new Map,o=e=>{if(i.has(e))return;let r=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,r)},n=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=r;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},l=[],d={toasts:[]};function c(e){d=n(d,e),l.forEach(e=>{e(d)})}function u(e){let{...r}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...r,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,r]=t.useState(d);return t.useEffect(()=>(l.push(r),()=>{let e=l.indexOf(r);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var r=r=>e(e.s=r);e.O(0,[2992,7446,9352,5100,4602,6874,5521,1439,8441,1684,7358],()=>r(35281)),_N_E=e.O()}]);