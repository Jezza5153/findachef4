"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2507],{17759:(e,r,t)=>{t.d(r,{C5:()=>v,MJ:()=>h,Rr:()=>g,eI:()=>p,lR:()=>x,lV:()=>d,zB:()=>u});var s=t(95155),a=t(12115),i=t(99708),l=t(62177),o=t(59434),n=t(85057);let d=l.Op,c=a.createContext({}),u=e=>{let{...r}=e;return(0,s.jsx)(c.Provider,{value:{name:r.name},children:(0,s.jsx)(l.xI,{...r})})},m=()=>{let e=a.useContext(c),r=a.useContext(f),{getFieldState:t,formState:s}=(0,l.xW)(),i=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...i}},f=a.createContext({}),p=a.forwardRef((e,r)=>{let{className:t,...i}=e,l=a.useId();return(0,s.jsx)(f.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:r,className:(0,o.cn)("space-y-2",t),...i})})});p.displayName="FormItem";let x=a.forwardRef((e,r)=>{let{className:t,...a}=e,{error:i,formItemId:l}=m();return(0,s.jsx)(n.J,{ref:r,className:(0,o.cn)(i&&"text-destructive",t),htmlFor:l,...a})});x.displayName="FormLabel";let h=a.forwardRef((e,r)=>{let{...t}=e,{error:a,formItemId:l,formDescriptionId:o,formMessageId:n}=m();return(0,s.jsx)(i.DX,{ref:r,id:l,"aria-describedby":a?"".concat(o," ").concat(n):"".concat(o),"aria-invalid":!!a,...t})});h.displayName="FormControl";let g=a.forwardRef((e,r)=>{let{className:t,...a}=e,{formDescriptionId:i}=m();return(0,s.jsx)("p",{ref:r,id:i,className:(0,o.cn)("text-sm text-muted-foreground",t),...a})});g.displayName="FormDescription";let v=a.forwardRef((e,r)=>{var t;let{className:a,children:i,...l}=e,{error:n,formMessageId:d}=m(),c=n?String(null!=(t=null==n?void 0:n.message)?t:""):i;return c?(0,s.jsx)("p",{ref:r,id:d,className:(0,o.cn)("text-sm font-medium text-destructive",a),...l,children:c}):null});v.displayName="FormMessage"},30285:(e,r,t)=>{t.d(r,{$:()=>d,r:()=>n});var s=t(95155),a=t(12115),i=t(99708),l=t(74466),o=t(59434);let n=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:l,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(n({variant:a,size:l,className:t})),ref:r,...c})});d.displayName="Button"},56104:(e,r,t)=>{let s,a,i,l;t.d(r,{IG:()=>i,db:()=>l,j2:()=>a});var o=t(23915),n=t(93004),d=t(90858),c=t(35317);let u={apiKey:'"AIzaSyDNMNa2a-BFUlmQ6PAA2hAIA3j07dYQUWQ",',authDomain:'"findachef2.firebaseapp.com",',projectId:'"findachef2",',storageBucket:'"findachef2.firebasestorage.app",',messagingSenderId:'"738524307993",',appId:'"1:738524307993:web:780dbfa516d646154cc088",',measurementId:'ntId: "G-PFXWD80NBY"'};if(u.apiKey&&u.projectId||(console.error("CRITICAL FIREBASE CONFIG ERROR: NEXT_PUBLIC_FIREBASE_API_KEY or NEXT_PUBLIC_FIREBASE_PROJECT_ID is missing or undefined."),console.error("This will cause Firebase services (Auth, Firestore, Storage) to fail."),console.error("Ensure these are correctly set in your .env.local file (for local development) AND in your Vercel project environment variables (for deployment).")),console.log("Firebase Initializing with Project ID:",u.projectId||"MISSING/UNDEFINED"),console.log("Firebase Using API Key (first 5 chars):",u.apiKey?u.apiKey.substring(0,5)+"...":"API Key Not Found/Defined"),(0,o.Dk)().length)s=(0,o.Dk)()[0];else try{s=(0,o.Wp)(u)}catch(e){console.error("Firebase initializeApp error:",e)}s&&u.apiKey&&u.projectId?(a=(0,n.xI)(s),i=(0,d.c7)(s),l=(0,c.aU)(s)):(console.error("Firebase app was not properly initialized due to missing configuration. Other Firebase services (Auth, Storage, Firestore) will NOT be available."),a=null,i=null,l=null)},59434:(e,r,t)=>{t.d(r,{cn:()=>i});var s=t(52596),a=t(39688);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},62523:(e,r,t)=>{t.d(r,{p:()=>l});var s=t(95155),a=t(12115),i=t(59434);let l=a.forwardRef((e,r)=>{let{className:t,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...l})});l.displayName="Input"},66695:(e,r,t)=>{t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>n,Zp:()=>l,aR:()=>o,wL:()=>u});var s=t(95155),a=t(12115),i=t(59434);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...a})});o.displayName="CardHeader";let n=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});n.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},83138:(e,r,t)=>{t.d(r,{X:()=>w});var s=t(95155),a=t(90221),i=t(62177),l=t(55594),o=t(30285),n=t(17759),d=t(62523),c=t(12115),u=t(55863),m=t(59434);let f=c.forwardRef((e,r)=>{let{className:t,value:a,...i}=e;return(0,s.jsx)(u.bL,{ref:r,className:(0,m.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,s.jsx)(u.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});f.displayName=u.bL.displayName;var p=t(87481),x=t(34477);let h=(0,x.createServerReference)("405fc69c80fce7a3b2fa9d633002554f8b47eec910",x.callServer,void 0,x.findSourceMapURL,"parseResume");var g=t(66695),v=t(15300),b=t(37607),y=t(50172),N=t(74601);let j=l.Ik({resume:l.Nl(File).refine(e=>e.size<=5242880,"Max file size is 5MB.").refine(e=>"application/pdf"===e.type,"Only PDF files are allowed. Please upload a valid PDF.")});function w(e){let{onResumeParsed:r,initialData:t}=e,[l,u]=(0,c.useState)(0),[m,x]=(0,c.useState)(!1),[w,I]=(0,c.useState)(null),[R,S]=(0,c.useState)(t||null),{toast:A}=(0,p.dj)(),F=(0,i.mN)({resolver:(0,a.u)(j),defaultValues:{}}),E=e=>{var r;let t=null==(r=e.target.files)?void 0:r[0];t?(F.setValue("resume",t,{shouldValidate:!0}),I(t.name),S(null),x(!1),u(0)):(I(null),F.setValue("resume",void 0))},P=async e=>{if(!e.resume)return void A({title:"No file selected",description:"Please select a PDF resume to upload.",variant:"destructive"});x(!0),u(0);let t=0,s=setInterval(()=>{(t+=20)<=60?u(t):clearInterval(s)},80);try{let t=new FileReader;t.readAsDataURL(e.resume),t.onloadend=async()=>{clearInterval(s),u(80);let a=t.result;console.log("ResumeUploadForm: Data URI MIME type:",a.substring(0,a.indexOf(";")+1)),A({title:"Parsing Resume with AI",description:"Please wait, this may take a moment..."});try{let t=await h({resumeDataUri:a});S(t),r({parsedData:t,file:e.resume}),A({title:"Resume Processed",description:"Extracted information updated. Save profile to upload the new resume file."})}catch(r){console.error("Detailed error from parseResume flow:",r),console.error("Error message:",r.message),r.digest&&console.error("Error digest:",r.digest);let e="Could not parse the resume. Please try a different PDF or check logs.";r.message&&r.message.toLowerCase().includes("api key not valid")?e="AI Service Error: Invalid API Key for resume parsing. Please check configuration.":r.message&&(e="Error Processing Resume: ".concat(r.message.substring(0,100)).concat(r.message.length>100?"...":"").concat(r.digest?" (Digest: ".concat(r.digest.substring(0,20),"...)"):"")),A({title:"Error Parsing Resume",description:e,variant:"destructive",duration:9e3}),S(null)}finally{u(100),setTimeout(()=>x(!1),500)}},t.onerror=()=>{clearInterval(s),A({title:"File Read Error",description:"Could not read the selected file.",variant:"destructive"}),x(!1),u(0)}}catch(e){clearInterval(s),console.error("Error processing file for resume parsing (outer catch):",e),A({title:"Processing Failed",description:"An unexpected error occurred while preparing the file.",variant:"destructive"}),x(!1),u(0)}};return(0,s.jsxs)(g.Zp,{children:[(0,s.jsxs)(g.aR,{children:[(0,s.jsxs)(g.ZB,{className:"flex items-center",children:[(0,s.jsx)(v.A,{className:"mr-2 h-6 w-6 text-primary","data-ai-hint":"resume document"}),"Upload & Parse Resume"]}),(0,s.jsx)(g.BT,{children:"Upload a new PDF resume (max 5MB). AI will extract details to help populate your profile. The new resume file will be uploaded when you save your main profile."})]}),(0,s.jsxs)(g.Wu,{children:[(0,s.jsx)(n.lV,{...F,children:(0,s.jsxs)("form",{onSubmit:F.handleSubmit(P),className:"space-y-6",children:[(0,s.jsx)(n.zB,{control:F.control,name:"resume",render:()=>(0,s.jsxs)(n.eI,{children:[(0,s.jsx)(n.lR,{htmlFor:"resume-upload-form-input",className:"sr-only",children:"Resume"}),(0,s.jsx)(n.MJ,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.p,{id:"resume-upload-form-input",type:"file",accept:"application/pdf",onChange:E,className:"hidden",disabled:m}),(0,s.jsxs)("label",{htmlFor:"resume-upload-form-input",className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed rounded-md cursor-pointer\n                                    hover:border-primary transition-colors\n                                    ".concat(m?"opacity-50 cursor-not-allowed":""),children:[(0,s.jsx)(b.A,{className:"mr-2 h-5 w-5"}),(0,s.jsx)("span",{children:w||"Click to upload PDF"})]})]})}),(0,s.jsx)(n.Rr,{children:w&&"Selected file: ".concat(w)}),(0,s.jsx)(n.C5,{})]})}),m&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{value:l,className:"w-full"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:l<80?"Processing file: ".concat(l,"%"):"Parsing resume with AI..."})]}),(0,s.jsxs)(o.$,{type:"submit",disabled:m||!F.watch("resume"),className:"w-full",children:[m?(0,s.jsx)(y.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(N.A,{className:"mr-2 h-4 w-4"}),m?l<80?"Processing...":l<100?"Parsing...":"Finalizing...":"Process Resume"]})]})}),R&&(0,s.jsx)("div",{className:"mt-8 space-y-6",children:(0,s.jsxs)(g.Zp,{children:[(0,s.jsxs)(g.aR,{children:[(0,s.jsxs)(g.ZB,{className:"flex items-center",children:[(0,s.jsx)(N.A,{className:"mr-2 h-5 w-5 text-primary"})," AI Extracted Information (Preview)"]}),(0,s.jsx)(g.BT,{children:"This information has been used to populate the fields in the main profile form. Save your main profile to persist these changes and upload the new resume file."})]}),(0,s.jsxs)(g.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Experience Summary"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:R.experience||"No experience summary extracted."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Skills"}),R.skills&&R.skills.length>0?(0,s.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:R.skills.map((e,r)=>(0,s.jsx)("li",{children:e},r))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No skills extracted."})]}),R.education&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Education"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:R.education||"No education information extracted."})]})]})]})})]})]})}},85057:(e,r,t)=>{t.d(r,{J:()=>d});var s=t(95155),a=t(12115),i=t(40968),l=t(74466),o=t(59434);let n=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(i.b,{ref:r,className:(0,o.cn)(n(),t),...a})});d.displayName=i.b.displayName},87481:(e,r,t)=>{t.d(r,{dj:()=>m});var s=t(12115);let a=0,i=new Map,l=e=>{if(i.has(e))return;let r=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,r)},o=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?l(t):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},n=[],d={toasts:[]};function c(e){d=o(d,e),n.forEach(e=>{e(d)})}function u(e){let{...r}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,r]=s.useState(d);return s.useEffect(()=>(n.push(r),()=>{let e=n.indexOf(r);e>-1&&n.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},88539:(e,r,t)=>{t.d(r,{T:()=>l});var s=t(95155),a=t(12115),i=t(59434);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a})});l.displayName="Textarea"}}]);