(()=>{var e={};e.id=5619,e.ids=[5619],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4643:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("notebook-text",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]])},9322:(e,t,r)=>{Promise.resolve().then(r.bind(r,80713))},9501:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},10022:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13964:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},14985:e=>{"use strict";e.exports=require("dns")},16963:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/chef/dashboard/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/chef/dashboard/layout.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},23026:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},27900:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30036:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(49587),a=r.n(s)},30769:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var s=r(60687);r(43210);var a=r(16189),i=r(49625),o=r(86356),l=r(58887),n=r(92834),d=r(65777),c=r(4643),u=r(71057),h=r(9501),p=r(60805),m=r(10022),x=r(72840),f=r(29867),y=r(18780),b=r(44493),g=r(29523),j=r(33784),v=r(24052),w=r(41862);let k=(0,r(30036).default)(async()=>{},{loadableGenerated:{modules:["app/chef/dashboard/layout.tsx -> @/components/dashboard-layout"]},ssr:!1,loading:()=>(0,s.jsxs)("div",{className:"flex h-screen items-center justify-center",children:[(0,s.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary"})," Loading Dashboard..."]})}),A=[{href:"/chef/dashboard",label:"Overview",icon:(0,s.jsx)(i.A,{}),matchExact:!0},{href:"/chef/dashboard/profile",label:"My Profile",icon:(0,s.jsx)(o.A,{})},{href:"/chef/dashboard/requests",label:"Requests",icon:(0,s.jsx)(l.A,{})},{href:"/chef/dashboard/calendar",label:"Calendar & Events",icon:(0,s.jsx)(n.A,{})},{href:"/chef/dashboard/wall",label:"The Chef's Wall",icon:(0,s.jsx)(d.A,{})},{href:"/chef/dashboard/menus",label:"Menus",icon:(0,s.jsx)(c.A,{})},{href:"/chef/dashboard/shopping-list",label:"Shopping List",icon:(0,s.jsx)(u.A,{})},{href:"/chef/dashboard/chefs",label:"Chef Directory",icon:(0,s.jsx)(h.A,{})},{href:"/chef/dashboard/collaborations",label:"Collaborations",icon:(0,s.jsx)(p.A,{})},{href:"/chef/dashboard/receipts",label:"Receipts & Costs",icon:(0,s.jsx)(m.A,{})}];function C({children:e}){let t=(0,a.useRouter)(),{toast:r}=(0,f.dj)(),{user:i,userProfile:o,loading:l,isChef:n,isChefApproved:d,profileLoading:c}=(0,y.A)();return l||c?(0,s.jsxs)("div",{className:"flex h-screen items-center justify-center bg-background",children:[(0,s.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary","data-ai-hint":"loading spinner"}),(0,s.jsx)("p",{className:"ml-3 text-lg text-foreground",children:"Loading Chef Dashboard..."})]}):i&&n?d||o&&"admin"===o.role?(0,s.jsx)(k,{navItems:A,children:e}):(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:(0,s.jsxs)(b.Zp,{className:"w-full max-w-md text-center shadow-lg",children:[(0,s.jsxs)(b.aR,{children:[(0,s.jsx)("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-yellow-500/10 text-yellow-600",children:(0,s.jsx)(x.A,{className:"h-8 w-8","data-ai-hint":"security shield alert"})}),(0,s.jsx)(b.ZB,{className:"text-2xl",children:"Account Pending Approval"})]}),(0,s.jsxs)(b.Wu,{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Thank you for signing up! Your chef profile is currently under review by our team. You will be notified once your account is approved. This can take up to 48 hours."}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"If you have any questions, please contact support."}),(0,s.jsx)(g.$,{onClick:async()=>{try{await (0,v.CI)(j.j2),r({title:"Logged Out",description:"You have been logged out."})}catch(e){console.error("Error signing out:",e),r({title:"Logout Error",description:`Could not log out: ${e.message}`,variant:"destructive"})}t.push("/login")},children:"Back to Login"})]})]})}):(0,s.jsxs)("div",{className:"flex h-screen items-center justify-center bg-background",children:[(0,s.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,s.jsx)("p",{className:"ml-3 text-lg text-foreground",children:"Verifying chef access..."})]})}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},41862:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},41968:(e,t)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return r}})},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>n,Zp:()=>o,aR:()=>l,wL:()=>u});var s=r(60687),a=r(43210),i=r(4780);let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},49587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let s=r(37366)._(r(64963));function a(e,t){var r;let a={};"function"==typeof e&&(a.loader=e);let i={...a,...t};return(0,s.default)({...i,modules:null==(r=i.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55511:e=>{"use strict";e.exports=require("crypto")},56780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let s=r(81208);function a(e){let{reason:t,children:r}=e;throw Object.defineProperty(new s.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},58887:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},60805:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("combine",[["path",{d:"M10 18H5a3 3 0 0 1-3-3v-1",key:"ru65g8"}],["path",{d:"M14 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"e30een"}],["path",{d:"M20 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"2ahx8o"}],["path",{d:"m7 21 3-3-3-3",key:"127cv2"}],["rect",{x:"14",y:"14",width:"8",height:"8",rx:"2",key:"1b0bso"}],["rect",{x:"2",y:"2",width:"8",height:"8",rx:"2",key:"1x09vl"}]])},60806:(e,t,r)=>{Promise.resolve().then(r.bind(r,16963))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return l}});let s=r(60687),a=r(51215),i=r(29294),o=r(41968);function l(e){let{moduleIds:t}=e,r=i.workAsyncStorage.getStore();if(void 0===r)return null;let l=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;l.push(...t)}}return 0===l.length?null:(0,s.jsx)(s.Fragment,{children:l.map(e=>{let t=r.assetPrefix+"/_next/"+(0,o.encodeURIPath)(e);return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,a.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},64963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let s=r(60687),a=r(43210),i=r(56780),o=r(64777);function l(e){return{default:e&&"default"in e?e.default:e}}let n={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},d=function(e){let t={...n,...e},r=(0,a.lazy)(()=>t.loader().then(l)),d=t.loading;function c(e){let l=d?(0,s.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,n=!t.ssr||!!t.loading,c=n?a.Suspense:a.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.PreloadChunks,{moduleIds:t.modules}),(0,s.jsx)(r,{...e})]}):(0,s.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(c,{...n?{fallback:l}:{},children:u})}return c.displayName="LoadableComponent",c}},65777:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},71057:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},72370:(e,t,r)=>{Promise.resolve().then(r.bind(r,92571))},72840:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78958:(e,t,r)=>{Promise.resolve().then(r.bind(r,30769))},79122:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),o=r.n(i),l=r(30893),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let d={children:["",{children:["chef",{children:["dashboard",{children:["collaborations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80713)),"/home/user/studio/src/app/chef/dashboard/collaborations/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,16963)),"/home/user/studio/src/app/chef/dashboard/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32416)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/chef/dashboard/collaborations/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/chef/dashboard/collaborations/page",pathname:"/chef/dashboard/collaborations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79551:e=>{"use strict";e.exports=require("url")},80713:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/chef/dashboard/collaborations/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/chef/dashboard/collaborations/page.tsx","default")},81630:e=>{"use strict";e.exports=require("http")},86356:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},91645:e=>{"use strict";e.exports=require("net")},92571:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(60687),a=r(43210),i=r(44493),o=r(29523),l=r(32584),n=r(18780),d=r(33784),c=r(75535),u=r(29867),h=r(41862),p=r(11860),m=r(13964),x=r(27900);let f=(0,r(62688).A)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var y=r(60805),b=r(23026),g=r(85814),j=r.n(g);function v(){let{user:e,userProfile:t}=(0,n.A)(),{toast:r}=(0,u.dj)(),[g,v]=(0,a.useState)([]),[w,k]=(0,a.useState)([]),[A,C]=(0,a.useState)([]),[N,q]=(0,a.useState)(!0),[M,P]=(0,a.useState)(null);(0,a.useCallback)(async t=>{if(!t||0===t.length)return[];let s=[];for(let a of t)if(a!==e?.uid)try{let e=(0,c.H9)(d.db,"users",a),t=await (0,c.x7)(e);t.exists()?s.push({id:t.id,...t.data()}):console.warn(`Collaboration: Profile not found for ID: ${a}`)}catch(e){console.error(`Collaboration: Error fetching profile for ID ${a}:`,e),r({title:"Error",description:`Could not fetch profile for ID ${a}.`,variant:"destructive"})}return s},[e?.uid,r]);let R=async(s,a)=>{if(!e||!t)return void r({title:"Error",description:"User not authenticated.",variant:"destructive"});P(s);let i=(0,c.H9)(d.db,"users",e.uid),o=(0,c.H9)(d.db,"users",s);try{await (0,c.mZ)(i,{incomingCollaborationRequests:(0,c.C3)(s),collaboratorIds:"accept"===a?(0,c.hq)(s):(0,c.C3)(s),updatedAt:(0,c.O5)()}),await (0,c.mZ)(o,{outgoingCollaborationRequests:(0,c.C3)(e.uid),collaboratorIds:"accept"===a?(0,c.hq)(e.uid):(0,c.C3)(s),updatedAt:(0,c.O5)()}).catch(e=>console.warn("Client-side attempt to update target chef's collaboration list failed (expected if no direct write permission or CF not used):",e.message)),r({title:`Request ${"accept"===a?"Accepted":"Declined"}`,description:`You ${"accept"===a?"are now collaborators with":"have declined the request from"} the chef.`})}catch(e){console.error(`Error ${a}ing collaboration request:`,e),r({title:"Error",description:`Could not ${a} request. ${e.message}`,variant:"destructive"})}finally{P(null)}},_=async s=>{if(!e||!t)return void r({title:"Error",description:"User not authenticated.",variant:"destructive"});P(s);let a=(0,c.H9)(d.db,"users",e.uid),i=(0,c.H9)(d.db,"users",s);try{await (0,c.mZ)(a,{outgoingCollaborationRequests:(0,c.C3)(s),updatedAt:(0,c.O5)()}),await (0,c.mZ)(i,{incomingCollaborationRequests:(0,c.C3)(e.uid),updatedAt:(0,c.O5)()}).catch(e=>console.warn("Client-side attempt to update target chef's incoming requests failed:",e.message)),r({title:"Request Cancelled",description:"Your collaboration request has been cancelled."})}catch(e){console.error("Error cancelling outgoing request:",e),r({title:"Error",description:`Could not cancel request. ${e.message}`,variant:"destructive"})}finally{P(null)}},E=async s=>{if(!e||!t)return void r({title:"Error",description:"User not authenticated.",variant:"destructive"});if(!window.confirm("Are you sure you want to remove this collaborator? This will remove the collaboration for both chefs."))return;P(s);let a=(0,c.H9)(d.db,"users",e.uid),i=(0,c.H9)(d.db,"users",s);try{await (0,c.mZ)(a,{collaboratorIds:(0,c.C3)(s),updatedAt:(0,c.O5)()}),await (0,c.mZ)(i,{collaboratorIds:(0,c.C3)(e.uid),updatedAt:(0,c.O5)()}).catch(e=>console.warn("Client-side attempt to update target chef's collaborator list failed:",e.message)),r({title:"Collaborator Removed",description:"The chef has been removed from your collaborators."})}catch(e){console.error("Error removing collaborator:",e),r({title:"Error",description:`Could not remove collaborator. ${e.message}`,variant:"destructive"})}finally{P(null)}},O=(e,r)=>(0,s.jsxs)(i.Zp,{className:"shadow-md",children:[(0,s.jsxs)(i.Wu,{className:"pt-6 flex items-center space-x-4",children:[(0,s.jsxs)(l.eu,{className:"h-16 w-16",children:[(0,s.jsx)(l.BK,{src:e.profilePictureUrl||void 0,alt:e.name,"data-ai-hint":"chef portrait"}),(0,s.jsx)(l.q5,{children:e.name?.substring(0,2).toUpperCase()||"CH"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-semibold",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.specialties?.slice(0,3).join(", ")})]})]}),(0,s.jsxs)(i.wL,{className:"flex justify-end space-x-2 p-4 border-t",children:["incoming"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.$,{size:"sm",variant:"outline",onClick:()=>R(e.id,"decline"),disabled:M===e.id||!t?.isAdmin,children:[M===e.id?(0,s.jsx)(h.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(p.A,{className:"h-4 w-4 mr-1"})," Decline"]}),(0,s.jsxs)(o.$,{size:"sm",onClick:()=>R(e.id,"accept"),disabled:M===e.id||!t?.isAdmin,children:[M===e.id?(0,s.jsx)(h.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(m.A,{className:"h-4 w-4 mr-1"})," Accept"]})]}),"outgoing"===r&&(0,s.jsxs)(o.$,{size:"sm",variant:"outline",onClick:()=>_(e.id),disabled:M===e.id||!t?.isAdmin,children:[M===e.id?(0,s.jsx)(h.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(x.A,{className:"h-4 w-4 mr-1"})," Cancel Request"]}),"collaborator"===r&&(0,s.jsxs)(o.$,{size:"sm",variant:"destructive",onClick:()=>E(e.id),disabled:M===e.id||!t?.isAdmin,children:[M===e.id?(0,s.jsx)(h.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(f,{className:"h-4 w-4 mr-1"})," Remove"]})]})]},e.id);return t?.hasCompletedFirstCoOp||t?.isAdmin?!N||g.length||w.length||A.length?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold flex items-center",children:[(0,s.jsx)(y.A,{className:"mr-3 h-8 w-8 text-primary","data-ai-hint":"collaboration users"})," Manage Collaborations"]}),(0,s.jsx)(o.$,{asChild:!0,variant:"outline",children:(0,s.jsxs)(j(),{href:"/chef/dashboard/chefs",children:[(0,s.jsx)(b.A,{className:"mr-2 h-4 w-4"})," Find Chefs to Collaborate"]})})]}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Incoming Collaboration Requests"}),(0,s.jsx)(i.BT,{children:"Review requests from chefs who want to collaborate with you."})]}),(0,s.jsx)(i.Wu,{children:N&&0===g.length?(0,s.jsxs)("div",{className:"text-center p-4",children:[(0,s.jsx)(h.A,{className:"h-6 w-6 animate-spin text-primary"})," Loading requests..."]}):g.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(e=>O(e,"incoming"))}):(0,s.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No incoming collaboration requests."})})]}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Outgoing Collaboration Requests"}),(0,s.jsx)(i.BT,{children:"Requests you've sent to other chefs."})]}),(0,s.jsx)(i.Wu,{children:N&&0===w.length?(0,s.jsxs)("div",{className:"text-center p-4",children:[(0,s.jsx)(h.A,{className:"h-6 w-6 animate-spin text-primary"})," Loading requests..."]}):w.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(e=>O(e,"outgoing"))}):(0,s.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No outgoing collaboration requests."})})]}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Your Collaborators"}),(0,s.jsx)(i.BT,{children:"Chefs you are currently collaborating with."})]}),(0,s.jsx)(i.Wu,{children:N&&0===A.length?(0,s.jsxs)("div",{className:"text-center p-4",children:[(0,s.jsx)(h.A,{className:"h-6 w-6 animate-spin text-primary"})," Loading collaborators..."]}):A.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(e=>O(e,"collaborator"))}):(0,s.jsx)("p",{className:"text-muted-foreground text-center py-4",children:'You have no collaborators yet. Use the "Find Chefs" button to send requests!'})})]})]}):(0,s.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,s.jsx)(h.A,{className:"h-8 w-8 animate-spin text-primary"})," Loading collaboration data..."]}):(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)(y.A,{className:"mx-auto h-12 w-12 text-muted-foreground","data-ai-hint":"collaboration icon"}),(0,s.jsx)("h2",{className:"mt-4 text-xl font-semibold",children:"Unlock Collaborations"}),(0,s.jsxs)("p",{className:"mt-2 text-muted-foreground",children:["The collaboration feature is unlocked after you successfully complete your first co-hosted event.",(0,s.jsx)("br",{})," This helps ensure all collaborating chefs have experience on the platform."]}),(0,s.jsx)(o.$,{asChild:!0,className:"mt-4",children:(0,s.jsx)(j(),{href:"/chef/dashboard/wall",children:"Post or Find Co-Host Events"})})]})}},92834:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,8786,1658,2628],()=>r(79122));module.exports=s})();