(()=>{var e={};e.id=5203,e.ids=[5203],e.modules={43:(e,t,s)=>{"use strict";s.d(t,{jH:()=>n});var r=s(43210);s(60687);var a=r.createContext(void 0);function n(e){let t=r.useContext(a);return e||t||"ltr"}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4643:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("notebook-text",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]])},5336:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9501:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},10022:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16963:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/chef/dashboard/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/chef/dashboard/layout.tsx","default")},18853:(e,t,s)=>{"use strict";s.d(t,{X:()=>n});var r=s(43210),a=s(66156);function n(e){let[t,s]=r.useState(void 0);return(0,a.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,a;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;s({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),t}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},23928:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},26134:(e,t,s)=>{"use strict";s.d(t,{G$:()=>K,Hs:()=>j,UC:()=>et,VY:()=>er,ZL:()=>Q,bL:()=>J,bm:()=>ea,hE:()=>es,hJ:()=>ee,l9:()=>X});var r=s(43210),a=s(70569),n=s(98599),i=s(11273),o=s(96963),l=s(65551),d=s(31355),c=s(32547),u=s(25028),p=s(46059),f=s(14163),m=s(1359),h=s(11490),x=s(63376),g=s(8730),y=s(60687),v="Dialog",[b,j]=(0,i.A)(v),[w,N]=b(v),k=e=>{let{__scopeDialog:t,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:d=!0}=e,c=r.useRef(null),u=r.useRef(null),[p=!1,f]=(0,l.i)({prop:a,defaultProp:n,onChange:i});return(0,y.jsx)(w,{scope:t,triggerRef:c,contentRef:u,contentId:(0,o.B)(),titleId:(0,o.B)(),descriptionId:(0,o.B)(),open:p,onOpenChange:f,onOpenToggle:r.useCallback(()=>f(e=>!e),[f]),modal:d,children:s})};k.displayName=v;var A="DialogTrigger",C=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,i=N(A,s),o=(0,n.s)(t,i.triggerRef);return(0,y.jsx)(f.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":B(i.open),...r,ref:o,onClick:(0,a.m)(e.onClick,i.onOpenToggle)})});C.displayName=A;var P="DialogPortal",[R,q]=b(P,{forceMount:void 0}),M=e=>{let{__scopeDialog:t,forceMount:s,children:a,container:n}=e,i=N(P,t);return(0,y.jsx)(R,{scope:t,forceMount:s,children:r.Children.map(a,e=>(0,y.jsx)(p.C,{present:s||i.open,children:(0,y.jsx)(u.Z,{asChild:!0,container:n,children:e})}))})};M.displayName=P;var I="DialogOverlay",_=r.forwardRef((e,t)=>{let s=q(I,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,n=N(I,e.__scopeDialog);return n.modal?(0,y.jsx)(p.C,{present:r||n.open,children:(0,y.jsx)(E,{...a,ref:t})}):null});_.displayName=I;var E=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,a=N(I,s);return(0,y.jsx)(h.A,{as:g.DX,allowPinchZoom:!0,shards:[a.contentRef],children:(0,y.jsx)(f.sG.div,{"data-state":B(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),D="DialogContent",O=r.forwardRef((e,t)=>{let s=q(D,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,n=N(D,e.__scopeDialog);return(0,y.jsx)(p.C,{present:r||n.open,children:n.modal?(0,y.jsx)(S,{...a,ref:t}):(0,y.jsx)(L,{...a,ref:t})})});O.displayName=D;var S=r.forwardRef((e,t)=>{let s=N(D,e.__scopeDialog),i=r.useRef(null),o=(0,n.s)(t,s.contentRef,i);return r.useEffect(()=>{let e=i.current;if(e)return(0,x.Eq)(e)},[]),(0,y.jsx)(T,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,a.m)(e.onFocusOutside,e=>e.preventDefault())})}),L=r.forwardRef((e,t)=>{let s=N(D,e.__scopeDialog),a=r.useRef(!1),n=r.useRef(!1);return(0,y.jsx)(T,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||s.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let r=t.target;s.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),T=r.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,u=N(D,s),p=r.useRef(null),f=(0,n.s)(t,p);return(0,m.Oh)(),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.n,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,y.jsx)(d.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":B(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(W,{titleId:u.titleId}),(0,y.jsx)(Y,{contentRef:p,descriptionId:u.descriptionId})]})]})}),F="DialogTitle",H=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,a=N(F,s);return(0,y.jsx)(f.sG.h2,{id:a.titleId,...r,ref:t})});H.displayName=F;var z="DialogDescription",G=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,a=N(z,s);return(0,y.jsx)(f.sG.p,{id:a.descriptionId,...r,ref:t})});G.displayName=z;var U="DialogClose",$=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,n=N(U,s);return(0,y.jsx)(f.sG.button,{type:"button",...r,ref:t,onClick:(0,a.m)(e.onClick,()=>n.onOpenChange(!1))})});function B(e){return e?"open":"closed"}$.displayName=U;var Z="DialogTitleWarning",[K,V]=(0,i.q)(Z,{contentName:D,titleName:F,docsSlug:"dialog"}),W=({titleId:e})=>{let t=V(Z),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Y=({contentRef:e,descriptionId:t})=>{let s=V("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return r.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},J=k,X=C,Q=M,ee=_,et=O,es=H,er=G,ea=$},27900:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30036:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(49587),a=s.n(r)},30769:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var r=s(60687);s(43210);var a=s(16189),n=s(49625),i=s(86356),o=s(58887),l=s(92834),d=s(65777),c=s(4643),u=s(71057),p=s(9501),f=s(60805),m=s(10022),h=s(72840),x=s(29867),g=s(18780),y=s(44493),v=s(29523),b=s(33784),j=s(24052),w=s(41862);let N=(0,s(30036).default)(async()=>{},{loadableGenerated:{modules:["app/chef/dashboard/layout.tsx -> @/components/dashboard-layout"]},ssr:!1,loading:()=>(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center",children:[(0,r.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary"})," Loading Dashboard..."]})}),k=[{href:"/chef/dashboard",label:"Overview",icon:(0,r.jsx)(n.A,{}),matchExact:!0},{href:"/chef/dashboard/profile",label:"My Profile",icon:(0,r.jsx)(i.A,{})},{href:"/chef/dashboard/requests",label:"Requests",icon:(0,r.jsx)(o.A,{})},{href:"/chef/dashboard/calendar",label:"Calendar & Events",icon:(0,r.jsx)(l.A,{})},{href:"/wall",label:"The Chef's Wall",icon:(0,r.jsx)(d.A,{})},{href:"/chef/dashboard/menus",label:"Menus",icon:(0,r.jsx)(c.A,{})},{href:"/chef/dashboard/shopping-list",label:"Shopping List",icon:(0,r.jsx)(u.A,{})},{href:"/chef/dashboard/chefs",label:"Chef Directory",icon:(0,r.jsx)(p.A,{})},{href:"/chef/dashboard/collaborations",label:"Collaborations",icon:(0,r.jsx)(f.A,{})},{href:"/chef/dashboard/receipts",label:"Receipts & Costs",icon:(0,r.jsx)(m.A,{})}];function A({children:e}){let t=(0,a.useRouter)(),{toast:s}=(0,x.dj)(),{user:n,userProfile:i,loading:o,isChef:l,isChefApproved:d,profileLoading:c}=(0,g.A)();return o||c?(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center bg-background",children:[(0,r.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary","data-ai-hint":"loading spinner"}),(0,r.jsx)("p",{className:"ml-3 text-lg text-foreground",children:"Loading Chef Dashboard..."})]}):n&&l?d||i&&"admin"===i.role?(0,r.jsx)(N,{navItems:k,children:e}):(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:(0,r.jsxs)(y.Zp,{className:"w-full max-w-md text-center shadow-lg",children:[(0,r.jsxs)(y.aR,{children:[(0,r.jsx)("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-yellow-500/10 text-yellow-600",children:(0,r.jsx)(h.A,{className:"h-8 w-8","data-ai-hint":"security shield alert"})}),(0,r.jsx)(y.ZB,{className:"text-2xl",children:"Account Pending Approval"})]}),(0,r.jsxs)(y.Wu,{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Thank you for signing up! Your chef profile is currently under review by our team. You will be notified once your account is approved. This can take up to 48 hours."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"If you have any questions, please contact support."}),(0,r.jsx)(v.$,{onClick:async()=>{try{await (0,j.CI)(b.j2),s({title:"Logged Out",description:"You have been logged out."})}catch(e){console.error("Error signing out:",e),s({title:"Logout Error",description:`Could not log out: ${e.message}`,variant:"destructive"})}t.push("/login")},children:"Back to Login"})]})]})}):(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center bg-background",children:[(0,r.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ml-3 text-lg text-foreground",children:"Verifying chef access..."})]})}},32230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),o=s(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d={children:["",{children:["chef",{children:["dashboard",{children:["requests",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,66369)),"/home/user/studio/src/app/chef/dashboard/requests/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,16963)),"/home/user/studio/src/app/chef/dashboard/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,32416)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/chef/dashboard/requests/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/chef/dashboard/requests/page",pathname:"/chef/dashboard/requests",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var r=s(60687),a=s(43210),n=s(4780);let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));i.displayName="Textarea"},35071:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},37366:e=>{"use strict";e.exports=require("dns")},41968:(e,t)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return s}})},43649:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},44493:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var r=s(60687),a=s(43210),n=s(4780);let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},49587:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let r=s(14985)._(s(64963));function a(e,t){var s;let a={};"function"==typeof e&&(a.loader=e);let n={...a,...t};return(0,r.default)({...n,modules:null==(s=n.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55511:e=>{"use strict";e.exports=require("crypto")},56780:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=s(81208);function a(e){let{reason:t,children:s}=e;throw Object.defineProperty(new r.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},57800:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},58887:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},60805:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("combine",[["path",{d:"M10 18H5a3 3 0 0 1-3-3v-1",key:"ru65g8"}],["path",{d:"M14 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"e30een"}],["path",{d:"M20 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"2ahx8o"}],["path",{d:"m7 21 3-3-3-3",key:"127cv2"}],["rect",{x:"14",y:"14",width:"8",height:"8",rx:"2",key:"1b0bso"}],["rect",{x:"2",y:"2",width:"8",height:"8",rx:"2",key:"1x09vl"}]])},60806:(e,t,s)=>{Promise.resolve().then(s.bind(s,16963))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63503:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>p,Es:()=>m,HM:()=>c,L3:()=>h,c7:()=>f,lG:()=>l,rr:()=>x});var r=s(60687),a=s(43210),n=s(26134),i=s(11860),o=s(4780);let l=n.bL;n.l9;let d=n.ZL,c=n.bm,u=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(n.hJ,{ref:s,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=n.hJ.displayName;let p=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(n.UC,{ref:a,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=n.UC.displayName;let f=({className:e,...t})=>(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});f.displayName="DialogHeader";let m=({className:e,...t})=>(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});m.displayName="DialogFooter";let h=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(n.hE,{ref:s,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=n.hE.displayName;let x=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(n.VY,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=n.VY.displayName},64777:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return o}});let r=s(60687),a=s(51215),n=s(29294),i=s(41968);function o(e){let{moduleIds:t}=e,s=n.workAsyncStorage.getStore();if(void 0===s)return null;let o=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files;o.push(...t)}}return 0===o.length?null:(0,r.jsx)(r.Fragment,{children:o.map(e=>{let t=s.assetPrefix+"/_next/"+(0,i.encodeURIPath)(e);return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,a.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},64963:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let r=s(60687),a=s(43210),n=s(56780),i=s(64777);function o(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},d=function(e){let t={...l,...e},s=(0,a.lazy)(()=>t.loader().then(o)),d=t.loading;function c(e){let o=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,c=l?a.Suspense:a.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.PreloadChunks,{moduleIds:t.modules}),(0,r.jsx)(s,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(c,{...l?{fallback:o}:{},children:u})}return c.displayName="LoadableComponent",c}},65777:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},66369:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/chef/dashboard/requests/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/chef/dashboard/requests/page.tsx","default")},69864:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]])},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},71057:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},72840:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78148:(e,t,s)=>{"use strict";s.d(t,{b:()=>o});var r=s(43210),a=s(14163),n=s(60687),i=r.forwardRef((e,t)=>(0,n.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},78958:(e,t,s)=>{Promise.resolve().then(s.bind(s,30769))},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var r=s(60687),a=s(43210),n=s(78148),i=s(24224),o=s(4780);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(n.b,{ref:s,className:(0,o.cn)(l(),e),...t}));d.displayName=n.b.displayName},81630:e=>{"use strict";e.exports=require("http")},82635:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eM});var r=s(60687),a=s(43210),n=s(44493),i=s(89667),o=s(29523),l=s(34729),d=s(32584),c=s(41862),u=s(69864),p=s(99270),f=s(92834),m=s(23928),h=s(10022),x=s(57800),g=s(96882),y=s(43649),v=s(5336),b=s(35071),j=s(27900),w=s(18780),N=s(33784),k=s(75535),A=s(76869),C=s(29867),P=s(16189),R=s(63503),q=s(70569),M=s(98599),I=s(11273),_=s(14163),E=s(9510),D=s(96963),O=s(13495),S=s(65551),L=s(43),T="rovingFocusGroup.onEntryFocus",F={bubbles:!1,cancelable:!0},H="RovingFocusGroup",[z,G,U]=(0,E.N)(H),[$,B]=(0,I.A)(H,[U]),[Z,K]=$(H),V=a.forwardRef((e,t)=>(0,r.jsx)(z.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(z.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(W,{...e,ref:t})})}));V.displayName=H;var W=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,orientation:n,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...f}=e,m=a.useRef(null),h=(0,M.s)(t,m),x=(0,L.jH)(o),[g=null,y]=(0,S.i)({prop:l,defaultProp:d,onChange:c}),[v,b]=a.useState(!1),j=(0,O.c)(u),w=G(s),N=a.useRef(!1),[k,A]=a.useState(0);return a.useEffect(()=>{let e=m.current;if(e)return e.addEventListener(T,j),()=>e.removeEventListener(T,j)},[j]),(0,r.jsx)(Z,{scope:s,orientation:n,dir:x,loop:i,currentTabStopId:g,onItemFocus:a.useCallback(e=>y(e),[y]),onItemShiftTab:a.useCallback(()=>b(!0),[]),onFocusableItemAdd:a.useCallback(()=>A(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>A(e=>e-1),[]),children:(0,r.jsx)(_.sG.div,{tabIndex:v||0===k?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:(0,q.m)(e.onMouseDown,()=>{N.current=!0}),onFocus:(0,q.m)(e.onFocus,e=>{let t=!N.current;if(e.target===e.currentTarget&&t&&!v){let t=new CustomEvent(T,F);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=w().filter(e=>e.focusable);Q([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),p)}}N.current=!1}),onBlur:(0,q.m)(e.onBlur,()=>b(!1))})})}),Y="RovingFocusGroupItem",J=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,focusable:n=!0,active:i=!1,tabStopId:o,...l}=e,d=(0,D.B)(),c=o||d,u=K(Y,s),p=u.currentTabStopId===c,f=G(s),{onFocusableItemAdd:m,onFocusableItemRemove:h}=u;return a.useEffect(()=>{if(n)return m(),()=>h()},[n,m,h]),(0,r.jsx)(z.ItemSlot,{scope:s,id:c,focusable:n,active:i,children:(0,r.jsx)(_.sG.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:(0,q.m)(e.onMouseDown,e=>{n?u.onItemFocus(c):e.preventDefault()}),onFocus:(0,q.m)(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:(0,q.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,s){var r;let a=(r=e.key,"rtl"!==s?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return X[a]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();let r=s.indexOf(e.currentTarget);s=u.loop?function(e,t){return e.map((s,r)=>e[(t+r)%e.length])}(s,r+1):s.slice(r+1)}setTimeout(()=>Q(s))}})})})});J.displayName=Y;var X={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q(e,t=!1){let s=document.activeElement;for(let r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}var ee=s(18853),et=s(83721),es=s(46059),er="Radio",[ea,en]=(0,I.A)(er),[ei,eo]=ea(er),el=a.forwardRef((e,t)=>{let{__scopeRadio:s,name:n,checked:i=!1,required:o,disabled:l,value:d="on",onCheck:c,form:u,...p}=e,[f,m]=a.useState(null),h=(0,M.s)(t,e=>m(e)),x=a.useRef(!1),g=!f||u||!!f.closest("form");return(0,r.jsxs)(ei,{scope:s,checked:i,disabled:l,children:[(0,r.jsx)(_.sG.button,{type:"button",role:"radio","aria-checked":i,"data-state":ep(i),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:h,onClick:(0,q.m)(e.onClick,e=>{i||c?.(),g&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})}),g&&(0,r.jsx)(eu,{control:f,bubbles:!x.current,name:n,value:d,checked:i,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});el.displayName=er;var ed="RadioIndicator",ec=a.forwardRef((e,t)=>{let{__scopeRadio:s,forceMount:a,...n}=e,i=eo(ed,s);return(0,r.jsx)(es.C,{present:a||i.checked,children:(0,r.jsx)(_.sG.span,{"data-state":ep(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})})});ec.displayName=ed;var eu=e=>{let{control:t,checked:s,bubbles:n=!0,...i}=e,o=a.useRef(null),l=(0,et.Z)(s),d=(0,ee.X)(t);return a.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&t){let r=new Event("click",{bubbles:n});t.call(e,s),e.dispatchEvent(r)}},[l,s,n]),(0,r.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ep(e){return e?"checked":"unchecked"}var ef=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],em="RadioGroup",[eh,ex]=(0,I.A)(em,[B,en]),eg=B(),ey=en(),[ev,eb]=eh(em),ej=a.forwardRef((e,t)=>{let{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:c,loop:u=!0,onValueChange:p,...f}=e,m=eg(s),h=(0,L.jH)(c),[x,g]=(0,S.i)({prop:i,defaultProp:n,onChange:p});return(0,r.jsx)(ev,{scope:s,name:a,required:o,disabled:l,value:x,onValueChange:g,children:(0,r.jsx)(V,{asChild:!0,...m,orientation:d,dir:h,loop:u,children:(0,r.jsx)(_.sG.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:h,...f,ref:t})})})});ej.displayName=em;var ew="RadioGroupItem",eN=a.forwardRef((e,t)=>{let{__scopeRadioGroup:s,disabled:n,...i}=e,o=eb(ew,s),l=o.disabled||n,d=eg(s),c=ey(s),u=a.useRef(null),p=(0,M.s)(t,u),f=o.value===i.value,m=a.useRef(!1);return a.useEffect(()=>{let e=e=>{ef.includes(e.key)&&(m.current=!0)},t=()=>m.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,r.jsx)(J,{asChild:!0,...d,focusable:!l,active:f,children:(0,r.jsx)(el,{disabled:l,required:o.required,checked:f,...c,...i,name:o.name,ref:p,onCheck:()=>o.onValueChange(i.value),onKeyDown:(0,q.m)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,q.m)(i.onFocus,()=>{m.current&&u.current?.click()})})})});eN.displayName=ew;var ek=a.forwardRef((e,t)=>{let{__scopeRadioGroup:s,...a}=e,n=ey(s);return(0,r.jsx)(ec,{...n,...a,ref:t})});ek.displayName="RadioGroupIndicator";let eA=(0,s(62688).A)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var eC=s(4780);let eP=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(ej,{className:(0,eC.cn)("grid gap-2",e),...t,ref:s}));eP.displayName=ej.displayName;let eR=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(eN,{ref:s,className:(0,eC.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,r.jsx)(ek,{className:"flex items-center justify-center",children:(0,r.jsx)(eA,{className:"h-2.5 w-2.5 fill-current text-current"})})}));eR.displayName=eN.displayName;var eq=s(80013);function eM(){let{user:e,userProfile:t,loading:s}=(0,w.A)(),{toast:q}=(0,C.dj)();(0,P.useRouter)();let M=(0,a.useRef)(null),[I,_]=(0,a.useState)([]),[E,D]=(0,a.useState)(null),[O,S]=(0,a.useState)([]),[L,T]=(0,a.useState)(""),[F,H]=(0,a.useState)(!0),[z,G]=(0,a.useState)(!1),[U,$]=(0,a.useState)(!1),[B,Z]=(0,a.useState)(!1),[K,V]=(0,a.useState)(!1),[W,Y]=(0,a.useState)([]),[J,X]=(0,a.useState)(void 0),[Q,ee]=(0,a.useState)(""),[et,es]=(0,a.useState)(!1),[er,ea]=(0,a.useState)(""),en=e=>{D(e),T("")},ei=async()=>{if(!e||!t||!E||!L.trim())return;if(s)return void q({title:"Authenticating...",description:"Please wait.",variant:"default"});$(!0);let r=(0,k.H9)(N.db,"customerRequests",E.id);try{let s=await (0,k.x7)(r);if(!s.exists()){q({title:"Error",description:"Request no longer exists.",variant:"destructive"}),$(!1);return}let a=s.data(),n=(0,k.wP)(N.db),i=(0,k.rJ)(r,"messages"),o=(0,k.H9)(i);n.set(o,{requestId:E.id,senderId:e.uid,senderName:t.name||e.displayName||"Chef",senderAvatarUrl:t.profilePictureUrl||e.photoURL||void 0,senderRole:"chef",text:L,timestamp:(0,k.O5)()});let l=a.status,d=a.respondingChefIds||[];"new"===a.status?(l="awaiting_customer_response",d.includes(e.uid)||(d=(0,k.hq)(e.uid)),n.update(r,{status:l,respondingChefIds:d,updatedAt:(0,k.O5)()})):n.update(r,{updatedAt:(0,k.O5)()}),await n.commit(),T("")}catch(e){console.error("ChefRequestsPage: Error sending message:",e),q({title:"Error",description:"Could not send message.",variant:"destructive"})}finally{$(!1)}},eo=async()=>{if(!e||!t||!E||!J)return void q({title:"Missing Information",description:"Please select a menu for your proposal.",variant:"destructive"});let s=W.find(e=>e.id===J);if(!s)return void q({title:"Error",description:"Selected menu not found.",variant:"destructive"});Z(!0);let r=(0,k.H9)(N.db,"customerRequests",E.id);try{let a=(0,k.wP)(N.db);a.update(r,{status:"proposal_sent",activeProposal:{menuId:s.id,menuTitle:s.title,menuPricePerHead:s.pricePerHead,chefId:e.uid,chefName:t.name||e.displayName||"Chef",chefAvatarUrl:t.profilePictureUrl||e.photoURL||void 0,notes:Q,proposedAt:(0,k.O5)()},updatedAt:(0,k.O5)(),respondingChefIds:(0,k.hq)(e.uid)});let n=(0,k.rJ)(r,"messages"),i=(0,k.H9)(n);a.set(i,{requestId:E.id,senderId:"system",senderRole:"system",text:`You proposed menu "${s.title}". Notes: ${Q||"N/A"}. Waiting for customer response.`,timestamp:(0,k.O5)()}),await a.commit(),q({title:"Proposal Sent!",description:"The customer has been notified."}),V(!1),ee(""),X(void 0)}catch(e){console.error("ChefRequestsPage: Error sending proposal:",e),q({title:"Proposal Error",description:`Could not send proposal: ${e.message}`,variant:"destructive"})}finally{Z(!1)}},el=async()=>{if(!e||!E)return;Z(!0);let s=(0,k.H9)(N.db,"customerRequests",E.id);try{let r=(0,k.wP)(N.db),a={status:"chef_declined",updatedAt:(0,k.O5)()};E.activeProposal?.chefId===e.uid&&(a.activeProposal=null),r.update(s,a);let n=(0,k.rJ)(s,"messages"),i=(0,k.H9)(n);r.set(i,{requestId:E.id,senderId:"system",senderRole:"system",text:`Chef ${t?.name||e.displayName} has declined this request.`,timestamp:(0,k.O5)()}),await r.commit(),q({title:"Request Declined",variant:"default"})}catch(e){console.error("ChefRequestsPage: Error declining request:",e),q({title:"Error",description:`Could not decline request: ${e.message}`,variant:"destructive"})}finally{Z(!1)}},ed=async()=>{if(!e||!E||E.activeProposal?.chefId!==e.uid)return;Z(!0);let s=(0,k.H9)(N.db,"customerRequests",E.id);try{let r=(0,k.wP)(N.db);r.update(s,{status:"chef_accepted",updatedAt:(0,k.O5)()});let a=(0,k.rJ)(s,"messages"),n=(0,k.H9)(a);r.set(n,{requestId:E.id,senderId:"system",senderRole:"system",text:`Chef ${t?.name||e.displayName} has accepted the request. Awaiting customer confirmation and payment.`,timestamp:(0,k.O5)()}),await r.commit(),q({title:"Request Accepted",description:"Awaiting customer confirmation."})}catch(e){console.error("ChefRequestsPage: Error accepting request:",e),q({title:"Error",description:`Could not accept request: ${e.message}`,variant:"destructive"})}finally{Z(!1)}},ec=(0,a.useMemo)(()=>{if(!er)return I;let e=er.toLowerCase();return I.filter(t=>t.eventType.toLowerCase().includes(e)||t.cuisinePreference.toLowerCase().includes(e)||t.notes&&t.notes.toLowerCase().includes(e)||t.activeProposal?.chefName&&t.activeProposal.chefName.toLowerCase().includes(e)||t.id.toLowerCase().includes(e))},[I,er]),eu=e=>e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown",ep=E?.activeProposal?.chefId===e?.uid,ef=E&&("new"===E.status||"awaiting_customer_response"===E.status),em=E&&ep&&"proposal_sent"===E.status,eh=E&&("new"===E.status||"awaiting_customer_response"===E.status||"proposal_sent"===E.status&&ep),ex=E&&["booked","cancelled_by_customer","customer_confirmed","proposal_declined"].includes(E.status||""),eg=E?.status==="chef_declined"&&E?.activeProposal?.chefId!==e?.uid;return s?(0,r.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,r.jsx)(c.A,{className:"h-8 w-8 animate-spin text-primary"})," Loading authentication..."]}):e&&t?.role==="chef"?(0,r.jsxs)("div",{className:"h-[calc(100vh-var(--header-height,10rem))] flex flex-col md:flex-row gap-6",children:[(0,r.jsxs)(n.Zp,{className:"w-full md:w-1/3 lg:w-1/4 flex flex-col shadow-lg",children:[(0,r.jsxs)(n.aR,{className:"border-b p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(n.ZB,{className:"text-xl flex items-center",children:[(0,r.jsx)(u.A,{className:"mr-2 h-5 w-5 text-primary"}),"Customer Requests"]}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[ec.length," relevant"]})]}),(0,r.jsxs)("div",{className:"relative mt-2",children:[(0,r.jsx)(p.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(i.p,{placeholder:"Search requests...",className:"pl-8",value:er,onChange:e=>ea(e.target.value)})]})]}),(0,r.jsx)(n.Wu,{className:"p-0 flex-grow overflow-y-auto",children:F?(0,r.jsxs)("div",{className:"p-4 text-center text-muted-foreground flex items-center justify-center h-full",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 animate-spin mr-2"})," Loading requests..."]}):ec.length>0?(0,r.jsx)("div",{className:"divide-y",children:ec.map(t=>(0,r.jsx)("div",{className:`p-4 hover:bg-muted/50 cursor-pointer ${E?.id===t.id?"bg-muted":""}`,onClick:()=>en(t),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsxs)(d.eu,{className:"h-10 w-10",children:[(0,r.jsx)(d.BK,{src:t.activeProposal?.chefAvatarUrl||void 0,alt:t.activeProposal?.chefName||t.eventType.charAt(0)}),(0,r.jsx)(d.q5,{children:t.activeProposal?.chefName?t.activeProposal.chefName.substring(0,1).toUpperCase():t.eventType.substring(0,1).toUpperCase()})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("p",{className:"text-sm font-semibold truncate",children:t.activeProposal?.chefName&&t.activeProposal?.chefId!==e?.uid?"Cust. awaiting THEIR proposal":t.eventType}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:t.updatedAt?(0,A.GP)(new Date(t.updatedAt),"PP"):t.createdAt?(0,A.GP)(new Date(t.createdAt),"PP"):"N/A"})]}),(0,r.jsx)("p",{className:"text-xs font-medium text-primary",children:eu(t.status)}),(0,r.jsxs)("p",{className:"text-xs truncate text-muted-foreground",children:["PAX: ",t.pax,", Budget: $",t.budget]})]})]})},t.id))}):(0,r.jsx)("p",{className:"p-4 text-center text-muted-foreground",children:"No relevant requests found."})})]}),E?(0,r.jsxs)(n.Zp,{className:"w-full md:w-2/3 lg:w-3/4 flex flex-col shadow-lg",children:[(0,r.jsxs)(n.aR,{className:"border-b p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)(d.eu,{className:"h-10 w-10",children:[(0,r.jsx)(d.BK,{src:void 0,alt:"C","data-ai-hint":"customer avatar"}),(0,r.jsx)(d.q5,{children:"C"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZB,{className:"text-lg",children:E.eventType}),(0,r.jsxs)(n.BT,{className:"text-xs",children:["Request ID: ",E.id.substring(0,8),"... | Status: ",eu(E.status)]})]})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground space-y-0.5 text-right self-start sm:self-center",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)(f.A,{className:"inline h-3 w-3 mr-1"})," Event Date: ",E.eventDate?(0,A.GP)(E.eventDate,"PP"):"N/A"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)(Users,{className:"inline h-3 w-3 mr-1"})," PAX: ",E.pax]}),(0,r.jsxs)("p",{children:[(0,r.jsx)(m.A,{className:"inline h-3 w-3 mr-1"})," Budget: $",E.budget]})]})]}),(0,r.jsxs)(n.Wu,{className:"p-6 flex-grow overflow-y-auto space-y-4",children:[E.activeProposal&&(0,r.jsxs)(n.Zp,{className:"my-2 p-3 border shadow-sm bg-sky-50 dark:bg-sky-800/30 border-sky-200 dark:border-sky-700",children:[(0,r.jsx)(n.aR,{className:"p-0 pb-1",children:(0,r.jsxs)(n.ZB,{className:"text-sm flex items-center text-sky-700 dark:text-sky-300",children:[(0,r.jsx)(h.A,{className:"mr-1.5 h-4 w-4"}),"Active Proposal by Chef ",E.activeProposal.chefName===(t?.name||e?.displayName)?"You":E.activeProposal.chefName]})}),(0,r.jsxs)(n.Wu,{className:"p-0 text-xs space-y-0.5 text-sky-800 dark:text-sky-200",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)(x.A,{className:"inline h-3 w-3 mr-1 text-muted-foreground"}),"Menu: ",(0,r.jsx)("strong",{children:E.activeProposal.menuTitle})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)(m.A,{className:"inline h-3 w-3 mr-1 text-muted-foreground"}),"Price: ",(0,r.jsxs)("strong",{children:["$",E.activeProposal.menuPricePerHead.toFixed(2)," per head"]})]}),E.activeProposal.notes&&(0,r.jsxs)("p",{children:[(0,r.jsx)(g.A,{className:"inline h-3 w-3 mr-1 text-muted-foreground"}),"Notes: ",E.activeProposal.notes]})]})]}),z?(0,r.jsxs)("div",{className:"flex justify-center items-center h-full",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 animate-spin mr-2"}),"Loading messages..."]}):O.length>0?(0,r.jsxs)("div",{className:"space-y-3",children:[O.map(s=>(0,r.jsx)("div",{className:`flex ${s.senderId===e?.uid?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:"flex items-end gap-2 max-w-[75%]",children:[s.senderId!==e?.uid&&"system"!==s.senderRole&&(0,r.jsxs)(d.eu,{className:"h-6 w-6",children:[(0,r.jsx)(d.BK,{src:s.senderAvatarUrl||void 0,alt:s.senderName||"U","data-ai-hint":"user avatar"}),(0,r.jsx)(d.q5,{children:s.senderName?s.senderName.charAt(0).toUpperCase():"chef"===s.senderRole?"C":"U"})]}),"system"===s.senderRole&&(0,r.jsx)(g.A,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 self-center mr-1","data-ai-hint":"info icon"}),(0,r.jsxs)("div",{className:`px-3 py-2 rounded-xl shadow-sm ${s.senderId===e?.uid?"bg-primary text-primary-foreground":"system"===s.senderRole?"bg-amber-100 dark:bg-amber-800/30 text-amber-700 dark:text-amber-300 text-xs italic text-center w-full":"bg-muted"}`,children:[(0,r.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:s.text}),(0,r.jsx)("p",{className:`text-xs mt-1 ${s.senderId===e?.uid?"text-primary-foreground/70 text-right":"system"===s.senderRole?"hidden":"text-muted-foreground/70 text-left"}`,children:s.timestamp?(0,A.GP)(new Date(s.timestamp),"p"):"Sending..."})]}),s.senderId===e?.uid&&t&&(0,r.jsxs)(d.eu,{className:"h-6 w-6",children:[(0,r.jsx)(d.BK,{src:t.profilePictureUrl||e?.photoURL||void 0,alt:t.name||"Me","data-ai-hint":"user avatar"}),(0,r.jsx)(d.q5,{children:t.name?t.name.charAt(0).toUpperCase():"M"})]})]})},s.id)),(0,r.jsx)("div",{ref:M})]}):(0,r.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"No messages yet for this request."})]}),(0,r.jsxs)(n.wL,{className:"p-4 border-t flex flex-col space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground p-2 rounded-md bg-muted/50 border border-dashed w-full",children:[(0,r.jsx)(y.A,{className:"h-4 w-4 mr-2 text-yellow-600 flex-shrink-0","data-ai-hint":"warning triangle"}),(0,r.jsx)("span",{children:"Keep all communication on FindAChef until a booking is confirmed."})]}),!ex&&!eg&&(0,r.jsxs)("div",{className:"w-full space-y-2",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[ef&&(0,r.jsxs)(o.$,{onClick:()=>V(!0),variant:"outline",size:"sm",disabled:B,children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"})," ",ep?"View/Edit Your Proposal":"Propose Menu"]}),em&&(0,r.jsxs)(o.$,{onClick:ed,size:"sm",className:"bg-green-600 hover:bg-green-700",disabled:B,children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Accept Request"]}),eh&&(0,r.jsxs)(o.$,{onClick:el,variant:"destructive",size:"sm",disabled:B,children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"})," Decline Request"]})]}),(0,r.jsxs)("div",{className:"flex w-full items-center space-x-2",children:[(0,r.jsx)(l.T,{placeholder:"Type your message...",value:L,onChange:e=>T(e.target.value),className:"flex-1 min-h-[40px] max-h-[120px]",rows:1,disabled:U||B,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),L.trim()&&!B&&ei())}}),(0,r.jsxs)(o.$,{type:"button",size:"icon",onClick:ei,disabled:U||!L.trim()||B,children:[U?(0,r.jsx)(c.A,{className:"animate-spin h-5 w-5"}):(0,r.jsx)(j.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Send"})]})]})]}),eg&&(0,r.jsx)("p",{className:"text-sm text-red-600 text-center w-full",children:"You have declined this request."}),ex&&"chef_declined"!==E.status&&(0,r.jsxs)("p",{className:"text-sm text-green-600 text-center w-full",children:["This conversation is now finalized (",eu(E.status),")."]})]})]}):(0,r.jsxs)("div",{className:"w-full md:w-2/3 lg:w-3/4 flex flex-col items-center justify-center text-center p-10 bg-muted/30 rounded-lg shadow-lg",children:[(0,r.jsx)(u.A,{className:"h-16 w-16 text-muted-foreground mb-4","data-ai-hint":"empty inbox messages"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-muted-foreground",children:"Select a request from the left to view messages and details."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"New customer requests will appear in the list."})]}),K&&(0,r.jsx)(R.lG,{open:K,onOpenChange:V,children:(0,r.jsxs)(R.Cf,{className:"sm:max-w-lg",children:[(0,r.jsxs)(R.c7,{children:[(0,r.jsx)(R.L3,{children:"Propose a Menu"}),R.rr&&(0,r.jsx)(R.rr,{children:"Select one of your menus and add any specific notes for this proposal."})]}),et?(0,r.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,r.jsx)(c.A,{className:"h-8 w-8 animate-spin"})}):0===W.length?(0,r.jsx)("p",{className:"text-muted-foreground text-center p-4",children:"You have no public menus to propose. Please create some first."}):(0,r.jsxs)("div",{className:"space-y-4 py-2 max-h-[50vh] overflow-y-auto",children:[(0,r.jsx)(eP,{value:J,onValueChange:X,children:W.map(e=>(0,r.jsxs)(eq.J,{htmlFor:e.id,className:"flex items-center space-x-3 p-3 border rounded-md hover:bg-accent/50 has-[:checked]:bg-accent has-[:checked]:text-accent-foreground cursor-pointer",children:[(0,r.jsx)(eR,{value:e.id,id:e.id}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:e.title})," ($",e.pricePerHead.toFixed(2),"/head)",(0,r.jsxs)("p",{className:"text-xs text-muted-foreground has-[:checked]:text-accent-foreground/80",children:[e.cuisine," - ",e.description.substring(0,50),"..."]})]})]},e.id))}),(0,r.jsx)(l.T,{placeholder:"Additional notes for this proposal (e.g., customizations, availability details)...",value:Q,onChange:e=>ee(e.target.value)})]}),(0,r.jsxs)(R.Es,{children:[(0,r.jsx)(R.HM,{asChild:!0,children:(0,r.jsx)(o.$,{variant:"outline",disabled:B,children:"Cancel"})}),(0,r.jsxs)(o.$,{onClick:eo,disabled:!J||et||0===W.length||B,children:[B?(0,r.jsx)(c.A,{className:"h-4 w-4 animate-spin mr-2"}):null,"Send Proposal"]})]})]})})]}):(0,r.jsx)("div",{className:"p-4 text-center text-muted-foreground",children:"Access denied. This page is for chefs."})}},83721:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(43210);function a(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},84966:(e,t,s)=>{Promise.resolve().then(s.bind(s,82635))},86356:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},89667:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(60687),a=s(43210),n=s(4780);let i=a.forwardRef(({className:e,type:t,...s},a)=>(0,r.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));i.displayName="Input"},91645:e=>{"use strict";e.exports=require("net")},92834:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},93214:(e,t,s)=>{Promise.resolve().then(s.bind(s,66369))},94735:e=>{"use strict";e.exports=require("events")},96882:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},99270:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,8786,1658,7888,399,6869,2628],()=>s(32230));module.exports=r})();